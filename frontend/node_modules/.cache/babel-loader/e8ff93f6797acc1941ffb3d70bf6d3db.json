{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\freelancerCoder\\\\Ecommerce\\\\frontend\\\\src\\\\components\\\\Product\\\\ProductRecommend.js\";\nimport React, { useEffect, useState } from \"react\";\nimport \"../../App.css\";\nimport Product from \"../Product/Product.js\";\nimport axios from \"axios\";\nexport default function ProductRecommend(props) {\n  const [products, setProducts] = useState([]);\n  let productInfo = [];\n\n  if (props.product) {\n    productInfo = props.product;\n  }\n\n  useEffect(() => {\n    axios.get(`http://be-ecommerce-year4.herokuapp.com/products`).then(res => {\n      setProducts(res.data);\n    });\n  }, []);\n  const recommendProducts = [];\n  products.filter(item => {\n    if (item._id !== productInfo._id) {\n      if (item.productType === productInfo.productType) {\n        if (item.productCate === productInfo.productCate && item.productGroupCate === productInfo.productGroupCate) {\n          recommendProducts.push(item);\n        } else if (item.productGroupCate === productInfo.productGroupCate) {\n          recommendProducts.push(item);\n        } else {\n          recommendProducts.push(item);\n        }\n      }\n    }\n\n    return null;\n  });\n  let recommendProducts2 = recommendProducts.filter(function (elem, index, self) {\n    return index === self.indexOf(elem);\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ProductRecommend\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newsletter-container flex-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newsletter-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, \"Related products\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"RecommendProduct\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, recommendProducts2.slice(0, 5).map(function (item, index) {\n    return /*#__PURE__*/React.createElement(Product, {\n      key: index,\n      product: item,\n      width: \"20%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 20\n      }\n    });\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-info-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["C:/Users/Admin/Desktop/freelancerCoder/Ecommerce/frontend/src/components/Product/ProductRecommend.js"],"names":["React","useEffect","useState","Product","axios","ProductRecommend","props","products","setProducts","productInfo","product","get","then","res","data","recommendProducts","filter","item","_id","productType","productCate","productGroupCate","push","recommendProducts2","elem","index","self","indexOf","slice","map"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAO,eAAP;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,SAASC,gBAAT,CAA0BC,KAA1B,EAAiC;AAC9C,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,EAAD,CAAxC;AACA,MAAIO,WAAW,GAAG,EAAlB;;AACA,MAAIH,KAAK,CAACI,OAAV,EAAmB;AACjBD,IAAAA,WAAW,GAAGH,KAAK,CAACI,OAApB;AACD;;AAEDT,EAAAA,SAAS,CAAC,MAAM;AACdG,IAAAA,KAAK,CACFO,GADH,CACQ,kDADR,EAEGC,IAFH,CAESC,GAAD,IAAS;AACbL,MAAAA,WAAW,CAACK,GAAG,CAACC,IAAL,CAAX;AACD,KAJH;AAKD,GANQ,EAMN,EANM,CAAT;AAQA,QAAMC,iBAAiB,GAAG,EAA1B;AACAR,EAAAA,QAAQ,CAACS,MAAT,CAAiBC,IAAD,IAAU;AACxB,QAAIA,IAAI,CAACC,GAAL,KAAaT,WAAW,CAACS,GAA7B,EAAkC;AAChC,UAAID,IAAI,CAACE,WAAL,KAAqBV,WAAW,CAACU,WAArC,EAAkD;AAChD,YACEF,IAAI,CAACG,WAAL,KAAqBX,WAAW,CAACW,WAAjC,IACAH,IAAI,CAACI,gBAAL,KAA0BZ,WAAW,CAACY,gBAFxC,EAGE;AACAN,UAAAA,iBAAiB,CAACO,IAAlB,CAAuBL,IAAvB;AACD,SALD,MAKO,IAAIA,IAAI,CAACI,gBAAL,KAA0BZ,WAAW,CAACY,gBAA1C,EAA4D;AACjEN,UAAAA,iBAAiB,CAACO,IAAlB,CAAuBL,IAAvB;AACD,SAFM,MAEA;AACLF,UAAAA,iBAAiB,CAACO,IAAlB,CAAuBL,IAAvB;AACD;AACF;AACF;;AACD,WAAO,IAAP;AACD,GAhBD;AAkBA,MAAIM,kBAAkB,GAAGR,iBAAiB,CAACC,MAAlB,CAAyB,UAChDQ,IADgD,EAEhDC,KAFgD,EAGhDC,IAHgD,EAIhD;AACA,WAAOD,KAAK,KAAKC,IAAI,CAACC,OAAL,CAAaH,IAAb,CAAjB;AACD,GANwB,CAAzB;AAQA,sBACE;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,kCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,kBAAkB,CAACK,KAAnB,CAAyB,CAAzB,EAA4B,CAA5B,EAA+BC,GAA/B,CAAmC,UAAUZ,IAAV,EAAgBQ,KAAhB,EAAuB;AACzD,wBAAO,oBAAC,OAAD;AAAS,MAAA,GAAG,EAAEA,KAAd;AAAqB,MAAA,OAAO,EAAER,IAA9B;AAAoC,MAAA,KAAK,EAAE,KAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD,GAFA,CADH,CAFF,CADF,eASE;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,CADF;AAaD","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"../../App.css\";\r\nimport Product from \"../Product/Product.js\";\r\nimport axios from \"axios\";\r\n\r\nexport default function ProductRecommend(props) {\r\n  const [products, setProducts] = useState([]);\r\n  let productInfo = [];\r\n  if (props.product) {\r\n    productInfo = props.product;\r\n  }\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`http://be-ecommerce-year4.herokuapp.com/products`)\r\n      .then((res) => {\r\n        setProducts(res.data);\r\n      });\r\n  }, []);\r\n\r\n  const recommendProducts = [];\r\n  products.filter((item) => {\r\n    if (item._id !== productInfo._id) {\r\n      if (item.productType === productInfo.productType) {\r\n        if (\r\n          item.productCate === productInfo.productCate &&\r\n          item.productGroupCate === productInfo.productGroupCate\r\n        ) {\r\n          recommendProducts.push(item);\r\n        } else if (item.productGroupCate === productInfo.productGroupCate) {\r\n          recommendProducts.push(item);\r\n        } else {\r\n          recommendProducts.push(item);\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  });\r\n\r\n  let recommendProducts2 = recommendProducts.filter(function (\r\n    elem,\r\n    index,\r\n    self\r\n  ) {\r\n    return index === self.indexOf(elem);\r\n  });\r\n\r\n  return (\r\n    <div className=\"ProductRecommend\">\r\n      <div className=\"newsletter-container flex-center\">\r\n        <div className=\"newsletter-title\">Related products</div>\r\n        <div className=\"RecommendProduct\">\r\n          {recommendProducts2.slice(0, 5).map(function (item, index) {\r\n            return <Product key={index} product={item} width={\"20%\"} />;\r\n          })}\r\n        </div>\r\n      </div>\r\n      <div className=\"product-info-line\"></div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}