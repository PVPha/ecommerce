{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\freelancerCoder\\\\Ecommerce\\\\frontend\\\\src\\\\components\\\\Header\\\\HeaderV2.js\";\nimport React, { useContext, useEffect, useRef, useState } from \"react\";\nimport \"../../App.css\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport classNames from \"classnames\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch, faUser, faCartPlus, faBars, faAngleDown } from \"@fortawesome/free-solid-svg-icons\";\nimport Search from \"./Search.js\";\nimport Account from \"./Account.js\";\nimport Cart from \"./Cart.js\";\nimport MenuItemDropdown from \"./MenuItemDropdown\";\nimport { CartContext } from \"../../contexts/Cart\";\nimport Div100vh from \"react-div-100vh\";\nimport axios from \"axios\";\n\nfunction HeaderV2(props) {\n  const [scrolled, setScrolled] = useState(false);\n  const [whiteBox, setWhiteBox] = useState(false);\n  const [whiteText, setWhiteText] = useState(false);\n  const [searchOpen, setSearchOpen] = useState(false);\n  const [accountOpen, setAccountOpen] = useState(false);\n  const [cartOpen, setCartOpen] = useState(false);\n  const [disableBox, setDisableBox] = useState(false);\n  const [dropdownHover, setDropdownHover] = useState(false);\n  const [totalCart, setTotalCart] = useState(0);\n  const [openSubMenu, setOpenSubMenu] = useState(null);\n  const location = props.history.location.pathname;\n  const subHeight = useRef();\n\n  function clickToClose() {\n    document.body.style.overflow = \"unset\";\n    setSearchOpen(false);\n    setAccountOpen(false);\n    setCartOpen(false);\n  }\n\n  const handleHover = () => {\n    setDropdownHover(true);\n  };\n\n  const handleLeaveHover = () => {\n    setDropdownHover(false);\n  };\n\n  const handleClick = () => {\n    window.scrollTo(0, 0);\n  };\n\n  const {\n    cartItems,\n    clickedCart\n  } = useContext(CartContext);\n  const [navBar, setNavBar] = useState([]);\n  useEffect(() => {\n    const navBar = [{\n      id: \"1\",\n      label: \"Home\",\n      url: \"/\",\n      dropdownContent: []\n    }, {\n      id: \"2\",\n      label: \"Women\",\n      url: \"/women\",\n      dropdownContent: []\n    }, {\n      id: \"3\",\n      label: \"Men\",\n      url: \"/men\",\n      dropdownContent: []\n    }, {\n      id: \"4\",\n      label: \"News\",\n      url: \"/news\",\n      dropdownContent: []\n    }, {\n      id: \"5\",\n      label: \"Contact\",\n      url: \"/contact\",\n      dropdownContent: []\n    }];\n    setNavBar(navBar);\n    axios.get(`http://be-ecommerce-year4.herokuapp.com/products`).then(res => {\n      let virtualNavBar = [...navBar];\n      const menProduct = [];\n      const womenProduct = [];\n\n      for (let i in res.data) {\n        if (res.data[i].productType === \"Man\") {\n          menProduct.push(res.data[i].productGroupCate);\n        }\n\n        if (res.data[i].productType === \"Woman\") {\n          womenProduct.push(res.data[i].productGroupCate);\n        }\n      }\n\n      let groupCateMen = menProduct.filter(function (elem, index, self) {\n        return index === self.indexOf(elem);\n      });\n      let groupCateWomen = womenProduct.filter(function (elem, index, self) {\n        return index === self.indexOf(elem);\n      });\n      const menDropdownContent = [];\n\n      for (let i in groupCateMen) {\n        let menData = {};\n        let cateList = [];\n\n        for (let j in res.data) {\n          if (res.data[j].productGroupCate === groupCateMen[i] && res.data[j].productType === \"Man\") {\n            cateList.push(res.data[j].productCate);\n          }\n        }\n\n        let cateList2 = cateList.filter(function (elem, index, self) {\n          return index === self.indexOf(elem);\n        }); // console.log(cateList)\n\n        menData = {\n          dropdownTitle: groupCateMen[i],\n          dropdownList: cateList2\n        };\n        menDropdownContent.push(menData);\n      }\n\n      const womenDropdownContent = [];\n\n      for (let i in groupCateWomen) {\n        let womenData = {};\n        let cateList = [];\n\n        for (let j in res.data) {\n          if (res.data[j].productGroupCate === groupCateWomen[i] && res.data[j].productType === \"Woman\") {\n            cateList.push(res.data[j].productCate);\n          }\n        }\n\n        let cateList2 = cateList.filter(function (elem, index, self) {\n          return index === self.indexOf(elem);\n        });\n        womenData = {\n          dropdownTitle: groupCateWomen[i],\n          dropdownList: cateList2\n        };\n        womenDropdownContent.push(womenData);\n      }\n\n      for (let i in virtualNavBar) {\n        if (virtualNavBar[i].label === \"Men\") {\n          virtualNavBar[i].dropdownContent = menDropdownContent;\n        }\n\n        if (virtualNavBar[i].label === \"Women\") {\n          virtualNavBar[i].dropdownContent = womenDropdownContent;\n        }\n      }\n\n      setNavBar(virtualNavBar);\n    });\n    setWhiteText(false);\n    setDisableBox(false);\n    setScrolled(false);\n\n    if (clickedCart) {\n      setScrolled(false);\n    }\n\n    function onScroll() {\n      if (window.pageYOffset < 50) {\n        // top\n        setWhiteBox(false);\n        setWhiteText(false);\n      } else if (this.prev < window.pageYOffset) {\n        //down\n        if (dropdownHover === true) {\n          setScrolled(false);\n        } else {\n          setScrolled(true);\n        }\n\n        setWhiteBox(true);\n      } else if (this.prev > window.pageYOffset) {\n        //up\n        setScrolled(false);\n        setWhiteText(false);\n      }\n\n      this.prev = window.pageYOffset;\n    }\n\n    let totalCartVirtual = 0;\n\n    for (let i in cartItems) {\n      totalCartVirtual += cartItems[i].count;\n    }\n\n    setTotalCart(totalCartVirtual);\n    window.addEventListener(\"scroll\", onScroll);\n    return () => {\n      window.removeEventListener(\"scroll\", onScroll);\n    };\n  }, [clickedCart, location, dropdownHover, props.match.params.cate, cartItems]);\n\n  if (searchOpen || accountOpen || cartOpen) {\n    document.body.style.overflow = \"hidden\";\n  }\n\n  const [openMobileMenu, setOpenMobileMenu] = useState(false);\n\n  const openMobileMenuFunc = () => {\n    setOpenMobileMenu(true);\n    document.body.style.overflow = \"hidden\";\n  };\n\n  const [closeAnimation, setCloseAnimation] = useState(false);\n\n  const closeMobileMenuFunc = () => {\n    document.body.style.overflow = \"unset\";\n    setCloseAnimation(true);\n    setTimeout(() => {\n      setOpenMobileMenu(false);\n      setCloseAnimation(false);\n    }, 700);\n  };\n\n  const [searchMobile, setSearchMobile] = useState(\"\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"Header HeaderV2\", {\n      scrolled: scrolled === true,\n      white: whiteBox === true,\n      white_disable: disableBox === true\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: whiteText === false ? \"menu-mobile flex-center\" : \"menu-mobile flex-center closeMenuMobile_white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faBars,\n    onClick: openMobileMenuFunc,\n    style: {\n      fontSize: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 9\n    }\n  })), openMobileMenu === true && /*#__PURE__*/React.createElement(Div100vh, {\n    className: \"menu-mobile-box flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"menu-mobile-left flex-col\", {\n      openMenuMobile: openMobileMenu,\n      closeMenuMobile: closeAnimation\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"menu-mobile-search flex-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => {\n      setSearchMobile(e.target.value);\n    },\n    value: searchMobile,\n    className: \"input\",\n    placeholder: \"Search\",\n    style: {\n      fontSize: \"16px\",\n      height: \"50px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    onClick: event => {\n      props.history.push(`/shop/${searchMobile}`);\n      closeMobileMenuFunc();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faSearch,\n    style: {\n      marginLeft: \"10px\",\n      color: \"#777\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"menu-mobile-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 13\n    }\n  }, navBar.map((item, index) => {\n    let home = \"\";\n    if (location === \"/\") home = \"home\";\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      style: {\n        color: \"#111\",\n        maxHeight: openSubMenu === item.id ? `1000px` : \"40px\"\n      },\n      className: classNames(\"menu-mobile-item a\", {\n        menu_mobile_item_active: location.slice(1) === item.label.toLowerCase() || home === item.label.toLowerCase()\n      }),\n      onClick: () => {\n        if (!item.dropdownContent.length > 0) {\n          props.history.push(item.url);\n        } else {\n          if (!openSubMenu) {\n            setOpenSubMenu(item.id);\n          } else {\n            if (openSubMenu === item.id) {\n              setOpenSubMenu(null);\n            } else {\n              setOpenSubMenu(item.id);\n            }\n          }\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex\",\n      style: {\n        justifyContent: \"space-between\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 23\n      }\n    }, item.label), item.dropdownContent.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faAngleDown,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 27\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"menu-mobile-sub\",\n      ref: subHeight,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 21\n      }\n    }, item.dropdownContent.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: index,\n        className: \"menu-item-sub-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 27\n        }\n      }, item.dropdownTitle, item.dropdownList.map((item, index) => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"menu-item-sub-item2\",\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 33\n          }\n        }, item);\n      }));\n    })));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"menu-mobile-login flex\",\n    onClick: () => {\n      setAccountOpen(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faUser,\n    className: \"icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 15\n    }\n  }, \"LOGIN\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"menu-mobile-right\",\n    onClick: closeMobileMenuFunc,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"menu flex-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 7\n    }\n  }, navBar.map((item, index) => {\n    return /*#__PURE__*/React.createElement(MenuItemDropdown, {\n      handleClick: handleClick,\n      handleHover: handleHover,\n      handleLeaveHover: handleLeaveHover,\n      dropdownHover: dropdownHover,\n      scrolled: scrolled,\n      location: location,\n      key: index,\n      whiteText: whiteText,\n      label: item.label,\n      url: item.url,\n      dropdownContent: item.dropdownContent // dropdown text\n      ,\n      className: \"menu-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 13\n      }\n    });\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo flex-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 9\n    }\n  }, whiteText === true ? /*#__PURE__*/React.createElement(\"img\", {\n    src: \"https://demo.uix.store/sober/wp-content/themes/sober/images/logo-light.svg\",\n    alt: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(\"img\", {\n    src: \"https://demo.uix.store/sober/wp-content/themes/sober/images/logo.svg\",\n    alt: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"cart flex-center\", {\n      whitelink_header: whiteText === true\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"icon-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faSearch,\n    className: \"icon search-icon\",\n    onClick: () => {\n      setSearchOpen(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"icon flex-center\",\n    onClick: () => {\n      setCartOpen(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faCartPlus,\n    className: \"cart-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"cart-count flex-center\", {\n      cart_count_news_hover: whiteText === true\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 13\n    }\n  }, totalCart))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"icon-container login-icon\",\n    onClick: () => {\n      setAccountOpen(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faUser,\n    className: \"icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Search, {\n    searchOpen: searchOpen,\n    clickToClose: clickToClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Account, {\n    accountOpen: accountOpen,\n    clickToClose: clickToClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Cart, {\n    cartOpen: cartOpen,\n    clickToClose: clickToClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default withRouter(HeaderV2);","map":{"version":3,"sources":["C:/Users/Admin/Desktop/freelancerCoder/Ecommerce/frontend/src/components/Header/HeaderV2.js"],"names":["React","useContext","useEffect","useRef","useState","Link","withRouter","classNames","FontAwesomeIcon","faSearch","faUser","faCartPlus","faBars","faAngleDown","Search","Account","Cart","MenuItemDropdown","CartContext","Div100vh","axios","HeaderV2","props","scrolled","setScrolled","whiteBox","setWhiteBox","whiteText","setWhiteText","searchOpen","setSearchOpen","accountOpen","setAccountOpen","cartOpen","setCartOpen","disableBox","setDisableBox","dropdownHover","setDropdownHover","totalCart","setTotalCart","openSubMenu","setOpenSubMenu","location","history","pathname","subHeight","clickToClose","document","body","style","overflow","handleHover","handleLeaveHover","handleClick","window","scrollTo","cartItems","clickedCart","navBar","setNavBar","id","label","url","dropdownContent","get","then","res","virtualNavBar","menProduct","womenProduct","i","data","productType","push","productGroupCate","groupCateMen","filter","elem","index","self","indexOf","groupCateWomen","menDropdownContent","menData","cateList","j","productCate","cateList2","dropdownTitle","dropdownList","womenDropdownContent","womenData","onScroll","pageYOffset","prev","totalCartVirtual","count","addEventListener","removeEventListener","match","params","cate","openMobileMenu","setOpenMobileMenu","openMobileMenuFunc","closeAnimation","setCloseAnimation","closeMobileMenuFunc","setTimeout","searchMobile","setSearchMobile","white","white_disable","fontSize","openMenuMobile","closeMenuMobile","e","target","value","height","event","marginLeft","color","map","item","home","maxHeight","menu_mobile_item_active","slice","toLowerCase","length","justifyContent","whitelink_header","cart_count_news_hover"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport \"../../App.css\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport classNames from \"classnames\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faSearch,\r\n  faUser,\r\n  faCartPlus,\r\n  faBars,\r\n  faAngleDown,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport Search from \"./Search.js\";\r\nimport Account from \"./Account.js\";\r\nimport Cart from \"./Cart.js\";\r\nimport MenuItemDropdown from \"./MenuItemDropdown\";\r\nimport { CartContext } from \"../../contexts/Cart\";\r\nimport Div100vh from \"react-div-100vh\";\r\nimport axios from \"axios\";\r\n\r\nfunction HeaderV2(props) {\r\n  const [scrolled, setScrolled] = useState(false);\r\n  const [whiteBox, setWhiteBox] = useState(false);\r\n  const [whiteText, setWhiteText] = useState(false);\r\n  const [searchOpen, setSearchOpen] = useState(false);\r\n  const [accountOpen, setAccountOpen] = useState(false);\r\n  const [cartOpen, setCartOpen] = useState(false);\r\n  const [disableBox, setDisableBox] = useState(false);\r\n  const [dropdownHover, setDropdownHover] = useState(false);\r\n  const [totalCart, setTotalCart] = useState(0);\r\n  const [openSubMenu, setOpenSubMenu] = useState(null);\r\n\r\n  const location = props.history.location.pathname;\r\n\r\n  const subHeight = useRef();\r\n\r\n  function clickToClose() {\r\n    document.body.style.overflow = \"unset\";\r\n    setSearchOpen(false);\r\n    setAccountOpen(false);\r\n    setCartOpen(false);\r\n  }\r\n\r\n  const handleHover = () => {\r\n    setDropdownHover(true);\r\n  };\r\n  const handleLeaveHover = () => {\r\n    setDropdownHover(false);\r\n  };\r\n  const handleClick = () => {\r\n    window.scrollTo(0, 0);\r\n  };\r\n\r\n  const { cartItems, clickedCart } = useContext(CartContext);\r\n  const [navBar, setNavBar] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const navBar = [\r\n      {\r\n        id: \"1\",\r\n        label: \"Home\",\r\n        url: \"/\",\r\n        dropdownContent: [],\r\n      },\r\n      {\r\n        id: \"2\",\r\n        label: \"Women\",\r\n        url: \"/women\",\r\n        dropdownContent: [],\r\n      },\r\n      {\r\n        id: \"3\",\r\n        label: \"Men\",\r\n        url: \"/men\",\r\n        dropdownContent: [],\r\n      },\r\n      {\r\n        id: \"4\",\r\n        label: \"News\",\r\n        url: \"/news\",\r\n        dropdownContent: [],\r\n      },\r\n      {\r\n        id: \"5\",\r\n        label: \"Contact\",\r\n        url: \"/contact\",\r\n        dropdownContent: [],\r\n      },\r\n    ];\r\n    setNavBar(navBar);\r\n    axios\r\n      .get(`http://be-ecommerce-year4.herokuapp.com/products`)\r\n      .then((res) => {\r\n        let virtualNavBar = [...navBar];\r\n        const menProduct = [];\r\n        const womenProduct = [];\r\n        for (let i in res.data) {\r\n          if (res.data[i].productType === \"Man\") {\r\n            menProduct.push(res.data[i].productGroupCate);\r\n          }\r\n          if (res.data[i].productType === \"Woman\") {\r\n            womenProduct.push(res.data[i].productGroupCate);\r\n          }\r\n        }\r\n        let groupCateMen = menProduct.filter(function (elem, index, self) {\r\n          return index === self.indexOf(elem);\r\n        });\r\n        let groupCateWomen = womenProduct.filter(function (elem, index, self) {\r\n          return index === self.indexOf(elem);\r\n        });\r\n        const menDropdownContent = [];\r\n        for (let i in groupCateMen) {\r\n          let menData = {};\r\n          let cateList = [];\r\n          for (let j in res.data) {\r\n            if (\r\n              res.data[j].productGroupCate === groupCateMen[i] &&\r\n              res.data[j].productType === \"Man\"\r\n            ) {\r\n              cateList.push(res.data[j].productCate);\r\n            }\r\n          }\r\n          let cateList2 = cateList.filter(function (elem, index, self) {\r\n            return index === self.indexOf(elem);\r\n          });\r\n          // console.log(cateList)\r\n          menData = {\r\n            dropdownTitle: groupCateMen[i],\r\n            dropdownList: cateList2,\r\n          };\r\n          menDropdownContent.push(menData);\r\n        }\r\n        const womenDropdownContent = [];\r\n        for (let i in groupCateWomen) {\r\n          let womenData = {};\r\n          let cateList = [];\r\n          for (let j in res.data) {\r\n            if (\r\n              res.data[j].productGroupCate === groupCateWomen[i] &&\r\n              res.data[j].productType === \"Woman\"\r\n            ) {\r\n              cateList.push(res.data[j].productCate);\r\n            }\r\n          }\r\n          let cateList2 = cateList.filter(function (elem, index, self) {\r\n            return index === self.indexOf(elem);\r\n          });\r\n          womenData = {\r\n            dropdownTitle: groupCateWomen[i],\r\n            dropdownList: cateList2,\r\n          };\r\n          womenDropdownContent.push(womenData);\r\n        }\r\n        for (let i in virtualNavBar) {\r\n          if (virtualNavBar[i].label === \"Men\") {\r\n            virtualNavBar[i].dropdownContent = menDropdownContent;\r\n          }\r\n          if (virtualNavBar[i].label === \"Women\") {\r\n            virtualNavBar[i].dropdownContent = womenDropdownContent;\r\n          }\r\n        }\r\n        setNavBar(virtualNavBar);\r\n      });\r\n    setWhiteText(false);\r\n    setDisableBox(false);\r\n    setScrolled(false);\r\n\r\n    if (clickedCart) {\r\n      setScrolled(false);\r\n    }\r\n\r\n    function onScroll() {\r\n      if (window.pageYOffset < 50) {\r\n        // top\r\n        setWhiteBox(false);\r\n        setWhiteText(false);\r\n      } else if (this.prev < window.pageYOffset) {\r\n        //down\r\n        if (dropdownHover === true) {\r\n          setScrolled(false);\r\n        } else {\r\n          setScrolled(true);\r\n        }\r\n        setWhiteBox(true);\r\n      } else if (this.prev > window.pageYOffset) {\r\n        //up\r\n        setScrolled(false);\r\n        setWhiteText(false);\r\n      }\r\n      this.prev = window.pageYOffset;\r\n    }\r\n\r\n    let totalCartVirtual = 0;\r\n    for (let i in cartItems) {\r\n      totalCartVirtual += cartItems[i].count;\r\n    }\r\n    setTotalCart(totalCartVirtual);\r\n    window.addEventListener(\"scroll\", onScroll);\r\n    return () => {\r\n      window.removeEventListener(\"scroll\", onScroll);\r\n    };\r\n  }, [\r\n    clickedCart,\r\n    location,\r\n    dropdownHover,\r\n    props.match.params.cate,\r\n    cartItems,\r\n  ]);\r\n\r\n  if (searchOpen || accountOpen || cartOpen) {\r\n    document.body.style.overflow = \"hidden\";\r\n  }\r\n\r\n  const [openMobileMenu, setOpenMobileMenu] = useState(false);\r\n\r\n  const openMobileMenuFunc = () => {\r\n    setOpenMobileMenu(true);\r\n    document.body.style.overflow = \"hidden\";\r\n  };\r\n\r\n  const [closeAnimation, setCloseAnimation] = useState(false);\r\n  const closeMobileMenuFunc = () => {\r\n    document.body.style.overflow = \"unset\";\r\n    setCloseAnimation(true);\r\n    setTimeout(() => {\r\n      setOpenMobileMenu(false);\r\n      setCloseAnimation(false);\r\n    }, 700);\r\n  };\r\n\r\n  const [searchMobile, setSearchMobile] = useState(\"\");\r\n  return (\r\n    <div\r\n      className={classNames(\"Header HeaderV2\", {\r\n        scrolled: scrolled === true,\r\n        white: whiteBox === true,\r\n        white_disable: disableBox === true,\r\n      })}\r\n    >\r\n      <div\r\n        className={\r\n          whiteText === false\r\n            ? \"menu-mobile flex-center\"\r\n            : \"menu-mobile flex-center closeMenuMobile_white\"\r\n        }\r\n      >\r\n        <FontAwesomeIcon\r\n          icon={faBars}\r\n          onClick={openMobileMenuFunc}\r\n          style={{ fontSize: \"20px\" }}\r\n        />\r\n      </div>\r\n      {openMobileMenu === true && (\r\n        <Div100vh className=\"menu-mobile-box flex\">\r\n          <div\r\n            className={classNames(\"menu-mobile-left flex-col\", {\r\n              openMenuMobile: openMobileMenu,\r\n              closeMenuMobile: closeAnimation,\r\n            })}\r\n          >\r\n            <div className=\"menu-mobile-search flex-center\">\r\n              <input\r\n                onChange={(e) => {\r\n                  setSearchMobile(e.target.value);\r\n                }}\r\n                value={searchMobile}\r\n                className=\"input\"\r\n                placeholder=\"Search\"\r\n                style={{ fontSize: \"16px\", height: \"50px\" }}\r\n              ></input>\r\n              <div\r\n                onClick={(event) => {\r\n                  props.history.push(`/shop/${searchMobile}`);\r\n                  closeMobileMenuFunc();\r\n                }}\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={faSearch}\r\n                  style={{ marginLeft: \"10px\", color: \"#777\" }}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"menu-mobile-list\">\r\n              {navBar.map((item, index) => {\r\n                let home = \"\";\r\n                if (location === \"/\") home = \"home\";\r\n                return (\r\n                  <div\r\n                    key={index}\r\n                    style={{\r\n                      color: \"#111\",\r\n                      maxHeight: openSubMenu === item.id ? `1000px` : \"40px\",\r\n                    }}\r\n                    className={classNames(\"menu-mobile-item a\", {\r\n                      menu_mobile_item_active:\r\n                        location.slice(1) === item.label.toLowerCase() ||\r\n                        home === item.label.toLowerCase(),\r\n                    })}\r\n                    onClick={() => {\r\n                      if (!item.dropdownContent.length > 0) {\r\n                        props.history.push(item.url);\r\n                      } else {\r\n                        if (!openSubMenu) {\r\n                          setOpenSubMenu(item.id);\r\n                        } else {\r\n                          if (openSubMenu === item.id) {\r\n                            setOpenSubMenu(null);\r\n                          } else {\r\n                            setOpenSubMenu(item.id);\r\n                          }\r\n                        }\r\n                      }\r\n                    }}\r\n                  >\r\n                    <div\r\n                      className=\"flex\"\r\n                      style={{ justifyContent: \"space-between\" }}\r\n                    >\r\n                      <p>{item.label}</p>\r\n                      {item.dropdownContent.length > 0 && (\r\n                        <div>\r\n                          <FontAwesomeIcon icon={faAngleDown} />\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"menu-mobile-sub\" ref={subHeight}>\r\n                      {item.dropdownContent.map((item, index) => {\r\n                        return (\r\n                          <div key={index} className=\"menu-item-sub-item\">\r\n                            {item.dropdownTitle}\r\n                            {item.dropdownList.map((item, index) => {\r\n                              return (\r\n                                <div\r\n                                  className=\"menu-item-sub-item2\"\r\n                                  key={index}\r\n                                >\r\n                                  {item}\r\n                                </div>\r\n                              );\r\n                            })}\r\n                          </div>\r\n                        );\r\n                      })}\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n            <div\r\n              className=\"menu-mobile-login flex\"\r\n              onClick={() => {\r\n                setAccountOpen(true);\r\n              }}\r\n            >\r\n              <FontAwesomeIcon icon={faUser} className=\"icon\" />\r\n              <p>LOGIN</p>\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"menu-mobile-right\"\r\n            onClick={closeMobileMenuFunc}\r\n          ></div>\r\n        </Div100vh>\r\n      )}\r\n      <ul className=\"menu flex-center\">\r\n        {navBar.map((item, index) => {\r\n          return (\r\n            <MenuItemDropdown\r\n              handleClick={handleClick}\r\n              handleHover={handleHover}\r\n              handleLeaveHover={handleLeaveHover}\r\n              dropdownHover={dropdownHover}\r\n              scrolled={scrolled}\r\n              location={location}\r\n              key={index}\r\n              whiteText={whiteText}\r\n              label={item.label}\r\n              url={item.url}\r\n              dropdownContent={item.dropdownContent} // dropdown text\r\n              className=\"menu-item\"\r\n            ></MenuItemDropdown>\r\n          );\r\n        })}\r\n      </ul>\r\n      <div className=\"logo flex-center\">\r\n        <Link to=\"/\">\r\n          {whiteText === true ? (\r\n            <img\r\n              src=\"https://demo.uix.store/sober/wp-content/themes/sober/images/logo-light.svg\"\r\n              alt=\"logo\"\r\n            ></img>\r\n          ) : (\r\n            <img\r\n              src=\"https://demo.uix.store/sober/wp-content/themes/sober/images/logo.svg\"\r\n              alt=\"logo\"\r\n            ></img>\r\n          )}\r\n        </Link>\r\n      </div>\r\n      <div\r\n        className={classNames(\"cart flex-center\", {\r\n          whitelink_header: whiteText === true,\r\n        })}\r\n      >\r\n        <div className=\"icon-container\">\r\n          <FontAwesomeIcon\r\n            icon={faSearch}\r\n            className=\"icon search-icon\"\r\n            onClick={() => {\r\n              setSearchOpen(true);\r\n            }}\r\n          />\r\n        </div>\r\n        <div\r\n          className=\"icon flex-center\"\r\n          onClick={() => {\r\n            setCartOpen(true);\r\n          }}\r\n        >\r\n          <FontAwesomeIcon icon={faCartPlus} className=\"cart-icon\" />\r\n          <div\r\n            className={classNames(\"cart-count flex-center\", {\r\n              cart_count_news_hover: whiteText === true,\r\n            })}\r\n          >\r\n            <p>{totalCart}</p>\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"icon-container login-icon\"\r\n          onClick={() => {\r\n            setAccountOpen(true);\r\n          }}\r\n        >\r\n          <FontAwesomeIcon icon={faUser} className=\"icon\" />\r\n        </div>\r\n      </div>\r\n      <Search searchOpen={searchOpen} clickToClose={clickToClose} />\r\n      <Account accountOpen={accountOpen} clickToClose={clickToClose} />\r\n      <Cart cartOpen={cartOpen} clickToClose={clickToClose} />\r\n    </div>\r\n  );\r\n}\r\nexport default withRouter(HeaderV2);\r\n"]},"metadata":{},"sourceType":"module"}