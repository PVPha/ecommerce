{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\freelancerCoder\\\\Ecommerce\\\\frontend\\\\src\\\\components\\\\CheckoutBody.js\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { UserContext } from \"../contexts/User\";\nimport \"../Styles/BannerV4.css\";\nimport axios from \"axios\";\nimport { withRouter } from \"react-router-dom\";\nimport socketIOClient from \"socket.io-client\";\nimport { ZaloPay } from \"./ZaloPay/zalopay\";\nimport QRCode from \"qrcode.react\";\nimport { APIs } from \"./ZaloPay/common\";\nimport $ from \"jquery\";\nconst ENDPOINT = \"http://localhost:4000\";\n\nfunction CheckoutBody(props) {\n  const [tinh, setTinh] = useState([]);\n  const [huyen, setHuyen] = useState([]);\n  const {\n    userInfo\n  } = useContext(UserContext);\n  const socket = socketIOClient(ENDPOINT);\n  const [nameInput, setNameInput] = useState(\"\");\n  const [_id, set_Id] = useState(\"\");\n  const [userAvt, setUserAvt] = useState(\"\");\n  const [emailInput, setEmailInput] = useState(\"\");\n  const [phoneInput, setPhoneInput] = useState(\"\");\n  const [provinceId, setProvinceId] = useState(\"\");\n  const [userTinh, setUserTinh] = useState(null);\n  const [userHuyen, setUserHuyen] = useState(null);\n  const [addressInput, setAddressInput] = useState(null);\n  const [cartList, setCartList] = useState([]);\n  const subTotal = localStorage.getItem(\"total\");\n  const [shipping, setShipping] = useState(0);\n  const total = Number(subTotal) + Number(shipping);\n  const [confirm, setConfirm] = useState(false);\n  const [orderPaymentMethod, setOrderPaymentMethod] = useState(\"\");\n  const [orderAddressConfirm, setOrderAddressConfirm] = useState(\"\");\n  const [isShowQR, setIsShowQR] = useState(false);\n  const [qrValue, setQRValue] = useState(\"\");\n  const [isPaid, setIsPaid] = useState(false);\n  useEffect(() => {\n    if (userInfo) {\n      setUserAvt(userInfo.userAvt);\n      set_Id(userInfo._id);\n      setNameInput(userInfo.userName);\n      setEmailInput(userInfo.userEmail);\n      setPhoneInput(userInfo.userPhone);\n      setAddressInput(userInfo.userAddress);\n\n      if (userInfo.userTinh !== \"\") {\n        axios.get(`http://localhost:4000/vietnam`).then(res => {\n          setTinh(res.data[0].tinh);\n          setHuyen(res.data[0].huyen);\n          res.data[0].tinh.filter(item => {\n            if (userInfo.userTinh === item.name) {\n              setProvinceId(item.id);\n            }\n\n            return null;\n          });\n        });\n        setUserTinh(userInfo.userTinh);\n      } else {\n        axios.get(`http://localhost:4000/vietnam`).then(res => {\n          setTinh(res.data[0].tinh);\n          setHuyen(res.data[0].huyen);\n        });\n      }\n\n      if (userInfo.userHuyen !== \"\") {\n        setUserHuyen(userInfo.userHuyen);\n      }\n    }\n\n    setCartList(JSON.parse(localStorage.getItem(\"cart\")));\n  }, [userInfo]);\n  const [methodPayment, setMethodPayMent] = useState(0);\n\n  const checkedPayMent = event => {\n    setMethodPayMent(Number(event.target.id));\n  };\n\n  const showQR = text => {\n    setIsShowQR(true);\n    setQRValue(text);\n  };\n\n  const placeAnOrder = () => {\n    let orderPaymentMethod2 = \"\";\n\n    if (methodPayment === 1) {\n      orderPaymentMethod2 = \"cash on delivery\";\n    } else if (methodPayment === 2) {\n      orderPaymentMethod2 = \"zalopay\";\n    } else {\n      orderPaymentMethod2 = \"\";\n    }\n\n    var cartId = [];\n\n    for (let i in cartList) {\n      cartId.push({\n        id: cartList[i]._id,\n        amount: cartList[i].count\n      });\n    }\n\n    const data = {\n      orderName: nameInput,\n      orderAvatar: userAvt,\n      orderEmail: emailInput,\n      orderPhone: phoneInput,\n      orderAddress: addressInput,\n      orderTinh: userTinh,\n      orderHuyen: userHuyen,\n      orderList: cartId,\n      orderTotal: total,\n      orderPaymentMethod: orderPaymentMethod2,\n      orderStatus: \"transported\",\n      orderDate: new Date()\n    };\n\n    if (orderPaymentMethod2 === \"\") {\n      alert(\"Fill in all infomation please\");\n    } else if (orderPaymentMethod2 === \"zalopay\") {\n      if (isPaid === false) {\n        alert(\"Your payment not yet confirmed!\");\n        return;\n      } else {\n        axios.post(\"http://localhost:4000/order\", data);\n        setTimeout(() => {\n          setConfirm(true);\n          document.body.style.overflow = \"hidden\";\n          window.scrollTo(0, 0);\n          socket.emit(\"placeAnOrder\", data);\n        }, 1000);\n      }\n    } else {\n      axios.post(\"http://localhost:4000/order\", data);\n      setTimeout(() => {\n        setConfirm(true);\n        document.body.style.overflow = \"hidden\";\n        window.scrollTo(0, 0);\n        socket.emit(\"placeAnOrder\", data);\n      }, 1000);\n    }\n\n    setOrderPaymentMethod(orderPaymentMethod2);\n    let addressStr = addressInput + \", \" + userTinh + \", \" + userHuyen;\n    setOrderAddressConfirm(addressStr);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"CheckoutBody\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 5\n    }\n  }, confirm && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail confirmPage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      fontSize: \"18px\",\n      color: \"green\",\n      marginBottom: \"30px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 11\n    }\n  }, \"Thank you. Your order has been received.\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }\n  }, \"Order details\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-list comfirm-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }\n  }, cartList && cartList.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"billing-detail-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: \"300px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"data:image/png;base64,\" + item.productImg[0],\n      alt: \"\",\n      width: \"60px\",\n      height: \"60px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"billing-detail-mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"billing-detail-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 25\n      }\n    }, item.productName), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"billing-detail-count\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 27\n      }\n    }, \"x\"), item.count), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"billing-detail-price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 25\n      }\n    }, (item.productFinalPrice * item.count).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\"), \" \", \"\\u0111\")));\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-item flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-confirm-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 17\n    }\n  }, \"SUBTOTAL\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-count\",\n    style: {\n      color: \"#111\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 19\n    }\n  }), subTotal && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-price billing-confirm-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 21\n    }\n  }, subTotal.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\"), \" \", \"\\u0111\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-item flex\",\n    style: {\n      justifyContent: \"space-between\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-confirm-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 17\n    }\n  }, \"ADDRESS\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-count\",\n    style: {\n      color: \"#111\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-price billing-confirm-right orderAddressConfirm\",\n    style: {\n      textTransform: \"capitalize\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 19\n    }\n  }, orderAddressConfirm, \" \\u0111\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-item flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-confirm-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 17\n    }\n  }, \"SHIPPING FEE\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-count\",\n    style: {\n      color: \"#111\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-price billing-confirm-right\",\n    style: {\n      textTransform: \"capitalize\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 19\n    }\n  }, shipping, \" \\u0111\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-item flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-confirm-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 17\n    }\n  }, \"TOTAL\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-count\",\n    style: {\n      color: \"#111\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-price billing-confirm-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 19\n    }\n  }, (Number(subTotal) + Number(shipping)).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\"), \" \", \"\\u0111\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-item flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-confirm-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 17\n    }\n  }, \"PAYMENT METHOD\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-count\",\n    style: {\n      color: \"#111\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-price billing-confirm-right\",\n    style: {\n      textTransform: \"capitalize\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 19\n    }\n  }, orderPaymentMethod))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"order-btn btn\",\n    style: {\n      marginTop: \"30px\",\n      marginBottom: \"30px\"\n    },\n    onClick: () => {\n      document.body.style.overflow = \"unset\";\n      localStorage.removeItem(\"total\");\n      localStorage.removeItem(\"cart\");\n      props.history.push(\"/shop\");\n      window.location.reload(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 15\n    }\n  }, \"CONFIRM\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 9\n    }\n  }, \"Billing details\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"billing-detail-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"billing-detail-table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 17\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input\",\n    name: \"name\",\n    value: nameInput,\n    onChange: event => {\n      setNameInput(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 17\n    }\n  }, \"Phone number\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input\",\n    name: \"phone\",\n    value: phoneInput,\n    onChange: event => {\n      setPhoneInput(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 17\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input\",\n    name: \"phone\",\n    value: emailInput,\n    onChange: event => {\n      setEmailInput(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 17\n    }\n  }, \"Province\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"input\",\n    value: userTinh || \"\",\n    onChange: event => {\n      setProvinceId(event.target.selectedIndex);\n      setUserTinh(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    defaultValue: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 21\n    }\n  }, \"select a province\"), tinh.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: item.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 25\n      }\n    }, item.name);\n  })))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 17\n    }\n  }, \"District\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"input\",\n    value: userHuyen || \"\",\n    onChange: event => {\n      setUserHuyen(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    defaultValue: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 21\n    }\n  }, \"select a district\"), huyen.map((item, index) => {\n    if (item.tinh_id === provinceId) {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: index,\n        value: item.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 27\n        }\n      }, item.name);\n    }\n\n    return null;\n  })))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 17\n    }\n  }, \"Address\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input\",\n    name: \"address\",\n    value: addressInput || \"\",\n    onChange: event => {\n      setAddressInput(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 19\n    }\n  }))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 9\n    }\n  }, \"Your order\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 11\n    }\n  }, cartList && cartList.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"billing-detail-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"data:image/png;base64,\" + item.productImg[0],\n      alt: \"\",\n      width: \"60px\",\n      height: \"60px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"billing-detail-mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"billing-detail-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 23\n      }\n    }, item.productName), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"billing-detail-count\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 25\n      }\n    }, \"x\"), item.count), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"billing-detail-price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 23\n      }\n    }, (item.productFinalPrice * item.count).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\"), \" \", \"\\u0111\")));\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-item flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"60px\",\n      height: \"60px\",\n      lineHeight: \"60px\",\n      fontSize: \"18px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 15\n    }\n  }, \"SUBTOTAL\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-count\",\n    style: {\n      color: \"#111\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 17\n    }\n  }), subTotal && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 19\n    }\n  }, subTotal.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\"), \" \", \"\\u0111\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-item flex\",\n    style: {\n      justifyContent: \"space-between\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"60px\",\n      height: \"60px\",\n      lineHeight: \"60px\",\n      fontSize: \"18px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 15\n    }\n  }, \"SHIPPING\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-shipping\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    onChange: event => {\n      setShipping(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 19\n    }\n  }, \"FREESHIP - 0\\u0111\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"30000\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 19\n    }\n  }, \"FAST SHIPPING - 30000\\u0111\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-item flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"60px\",\n      height: \"60px\",\n      lineHeight: \"60px\",\n      fontSize: \"18px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 15\n    }\n  }, \"TOTAL\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 495,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 496,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-count\",\n    style: {\n      color: \"#111\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 497,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 501,\n      columnNumber: 17\n    }\n  }, (Number(subTotal) + Number(shipping)).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\"), \" \", \"\\u0111\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-payment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 509,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: \"18px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 15\n    }\n  }, \"PAYMENT METHOD\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 511,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"payment-method-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"1\",\n    className: \"flex payment-method-item\",\n    onClick: event => {\n      checkedPayMent(event);\n      setIsShowQR(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"1\",\n    className: methodPayment === 1 ? \"size-check isChecked2\" : \"size-check\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 521,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 529,\n      columnNumber: 21\n    }\n  }, \"CASH ON DELIVERY\")), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"2\",\n    className: \"flex payment-method-item\",\n    onClick: event => {\n      checkedPayMent(event);\n      const description = `Thanh toan don hang #${_id}`;\n      let order = {\n        description: description,\n        amount: total\n      };\n      ZaloPay.qr(order, res => {\n        showQR(res.orderurl);\n        const check = setInterval(() => {\n          $.getJSON(APIs.GETORDERSTATUS + \"?morderid=\" + res.apptransid).done(res => {\n            if (res.returncode === 1) {\n              setIsPaid(true);\n              clearInterval(check);\n            }\n          });\n        }, 1000);\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 531,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"2\",\n    className: methodPayment === 2 ? \"size-check isChecked2\" : \"size-check\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 556,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 564,\n      columnNumber: 21\n    }\n  }, \"ZALOPAY\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: isShowQR ? \"qr-box flex-col\" : \"d-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 569,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"qr-code-box flex-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 570,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(QRCode, {\n    value: qrValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 571,\n      columnNumber: 17\n    }\n  })), !isPaid && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"qr-status\",\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 574,\n      columnNumber: 17\n    }\n  }, \"\\u0110ang ch\\u1EDD thanh to\\xE1n...\"), isPaid && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"qr-status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 579,\n      columnNumber: 17\n    }\n  }, \"Thanh to\\xE1n th\\xE0nh c\\xF4ng!\"), !isPaid && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"qr-help\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 582,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"qr-help-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 583,\n      columnNumber: 19\n    }\n  }, \"H\\u01B0\\u1EDBng d\\u1EABn thanh to\\xE1n\"), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"qr-help-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 584,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 585,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 586,\n      columnNumber: 23\n    }\n  }, \"B\\u01B0\\u1EDBc 1:\"), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 587,\n      columnNumber: 23\n    }\n  }, \" M\\u1EDF\"), \" \\u1EE9ng d\\u1EE5ng \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 587,\n      columnNumber: 53\n    }\n  }, \"ZaloPay\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 589,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 590,\n      columnNumber: 23\n    }\n  }, \"B\\u01B0\\u1EDBc 2:\"), \" Ch\\u1ECDn \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 590,\n      columnNumber: 49\n    }\n  }, \"\\\"Thanh To\\xE1n\\\"\"), \" v\\xE0 qu\\xE9t m\\xE3 QR\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 593,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 594,\n      columnNumber: 23\n    }\n  }, \"B\\u01B0\\u1EDBc 3:\"), \" \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 594,\n      columnNumber: 44\n    }\n  }, \" X\\xE1c nh\\u1EADn thanh to\\xE1n\"), \" \", \"\\u1EDF trong \\u1EE9ng d\\u1EE5ng\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"order-btn btn\",\n    onClick: placeAnOrder,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 601,\n      columnNumber: 13\n    }\n  }, \"PLACE AN ORDER\")))));\n}\n\nexport default withRouter(CheckoutBody);","map":{"version":3,"sources":["C:/Users/Admin/Desktop/freelancerCoder/Ecommerce/frontend/src/components/CheckoutBody.js"],"names":["React","useContext","useEffect","useState","UserContext","axios","withRouter","socketIOClient","ZaloPay","QRCode","APIs","$","ENDPOINT","CheckoutBody","props","tinh","setTinh","huyen","setHuyen","userInfo","socket","nameInput","setNameInput","_id","set_Id","userAvt","setUserAvt","emailInput","setEmailInput","phoneInput","setPhoneInput","provinceId","setProvinceId","userTinh","setUserTinh","userHuyen","setUserHuyen","addressInput","setAddressInput","cartList","setCartList","subTotal","localStorage","getItem","shipping","setShipping","total","Number","confirm","setConfirm","orderPaymentMethod","setOrderPaymentMethod","orderAddressConfirm","setOrderAddressConfirm","isShowQR","setIsShowQR","qrValue","setQRValue","isPaid","setIsPaid","userName","userEmail","userPhone","userAddress","get","then","res","data","filter","item","name","id","JSON","parse","methodPayment","setMethodPayMent","checkedPayMent","event","target","showQR","text","placeAnOrder","orderPaymentMethod2","cartId","i","push","amount","count","orderName","orderAvatar","orderEmail","orderPhone","orderAddress","orderTinh","orderHuyen","orderList","orderTotal","orderStatus","orderDate","Date","alert","post","setTimeout","document","body","style","overflow","window","scrollTo","emit","addressStr","fontSize","color","marginBottom","map","index","width","productImg","productName","productFinalPrice","toString","replace","justifyContent","textTransform","marginTop","removeItem","history","location","reload","value","selectedIndex","tinh_id","height","lineHeight","description","order","qr","orderurl","check","setInterval","getJSON","GETORDERSTATUS","apptransid","done","returncode","clearInterval"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport { UserContext } from \"../contexts/User\";\r\nimport \"../Styles/BannerV4.css\";\r\nimport axios from \"axios\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport socketIOClient from \"socket.io-client\";\r\nimport { ZaloPay } from \"./ZaloPay/zalopay\";\r\nimport QRCode from \"qrcode.react\";\r\nimport { APIs } from \"./ZaloPay/common\";\r\nimport $ from \"jquery\";\r\n\r\nconst ENDPOINT = \"http://localhost:4000\";\r\n\r\nfunction CheckoutBody(props) {\r\n  const [tinh, setTinh] = useState([]);\r\n  const [huyen, setHuyen] = useState([]);\r\n  const { userInfo } = useContext(UserContext);\r\n  const socket = socketIOClient(ENDPOINT);\r\n\r\n  const [nameInput, setNameInput] = useState(\"\");\r\n  const [_id, set_Id] = useState(\"\");\r\n  const [userAvt, setUserAvt] = useState(\"\");\r\n  const [emailInput, setEmailInput] = useState(\"\");\r\n  const [phoneInput, setPhoneInput] = useState(\"\");\r\n  const [provinceId, setProvinceId] = useState(\"\");\r\n  const [userTinh, setUserTinh] = useState(null);\r\n  const [userHuyen, setUserHuyen] = useState(null);\r\n  const [addressInput, setAddressInput] = useState(null);\r\n  const [cartList, setCartList] = useState([]);\r\n  const subTotal = localStorage.getItem(\"total\");\r\n  const [shipping, setShipping] = useState(0);\r\n  const total = Number(subTotal) + Number(shipping);\r\n  const [confirm, setConfirm] = useState(false);\r\n  const [orderPaymentMethod, setOrderPaymentMethod] = useState(\"\");\r\n  const [orderAddressConfirm, setOrderAddressConfirm] = useState(\"\");\r\n  const [isShowQR, setIsShowQR] = useState(false);\r\n  const [qrValue, setQRValue] = useState(\"\");\r\n  const [isPaid, setIsPaid] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      setUserAvt(userInfo.userAvt);\r\n      set_Id(userInfo._id);\r\n      setNameInput(userInfo.userName);\r\n      setEmailInput(userInfo.userEmail);\r\n      setPhoneInput(userInfo.userPhone);\r\n      setAddressInput(userInfo.userAddress);\r\n      if (userInfo.userTinh !== \"\") {\r\n        axios.get(`http://localhost:4000/vietnam`).then((res) => {\r\n          setTinh(res.data[0].tinh);\r\n          setHuyen(res.data[0].huyen);\r\n          res.data[0].tinh.filter((item) => {\r\n            if (userInfo.userTinh === item.name) {\r\n              setProvinceId(item.id);\r\n            }\r\n            return null;\r\n          });\r\n        });\r\n        setUserTinh(userInfo.userTinh);\r\n      } else {\r\n        axios.get(`http://localhost:4000/vietnam`).then((res) => {\r\n          setTinh(res.data[0].tinh);\r\n          setHuyen(res.data[0].huyen);\r\n        });\r\n      }\r\n      if (userInfo.userHuyen !== \"\") {\r\n        setUserHuyen(userInfo.userHuyen);\r\n      }\r\n    }\r\n    setCartList(JSON.parse(localStorage.getItem(\"cart\")));\r\n  }, [userInfo]);\r\n\r\n  const [methodPayment, setMethodPayMent] = useState(0);\r\n\r\n  const checkedPayMent = (event) => {\r\n    setMethodPayMent(Number(event.target.id));\r\n  };\r\n\r\n  const showQR = (text) => {\r\n    setIsShowQR(true);\r\n    setQRValue(text);\r\n  };\r\n\r\n  const placeAnOrder = () => {\r\n    let orderPaymentMethod2 = \"\";\r\n    if (methodPayment === 1) {\r\n      orderPaymentMethod2 = \"cash on delivery\";\r\n    } else if (methodPayment === 2) {\r\n      orderPaymentMethod2 = \"zalopay\";\r\n    } else {\r\n      orderPaymentMethod2 = \"\";\r\n    }\r\n    var cartId = [];\r\n    for (let i in cartList) {\r\n      cartId.push({\r\n        id: cartList[i]._id,\r\n        amount: cartList[i].count,\r\n      });\r\n    }\r\n\r\n    const data = {\r\n      orderName: nameInput,\r\n      orderAvatar: userAvt,\r\n      orderEmail: emailInput,\r\n      orderPhone: phoneInput,\r\n      orderAddress: addressInput,\r\n      orderTinh: userTinh,\r\n      orderHuyen: userHuyen,\r\n      orderList: cartId,\r\n      orderTotal: total,\r\n      orderPaymentMethod: orderPaymentMethod2,\r\n      orderStatus: \"transported\",\r\n      orderDate: new Date(),\r\n    };\r\n\r\n    if (orderPaymentMethod2 === \"\") {\r\n      alert(\"Fill in all infomation please\");\r\n    } else if (orderPaymentMethod2 === \"zalopay\") {\r\n      if (isPaid === false) {\r\n        alert(\"Your payment not yet confirmed!\");\r\n        return;\r\n      } else {\r\n        axios.post(\"http://localhost:4000/order\", data);\r\n        setTimeout(() => {\r\n          setConfirm(true);\r\n          document.body.style.overflow = \"hidden\";\r\n          window.scrollTo(0, 0);\r\n          socket.emit(\"placeAnOrder\", data);\r\n        }, 1000);\r\n      }\r\n    } else {\r\n      axios.post(\"http://localhost:4000/order\", data);\r\n      setTimeout(() => {\r\n        setConfirm(true);\r\n        document.body.style.overflow = \"hidden\";\r\n        window.scrollTo(0, 0);\r\n        socket.emit(\"placeAnOrder\", data);\r\n      }, 1000);\r\n    }\r\n    setOrderPaymentMethod(orderPaymentMethod2);\r\n    let addressStr = addressInput + \", \" + userTinh + \", \" + userHuyen;\r\n    setOrderAddressConfirm(addressStr);\r\n  };\r\n\r\n  return (\r\n    <div className=\"CheckoutBody\">\r\n      {confirm && (\r\n        <div className=\"billing-detail confirmPage\">\r\n          <p style={{ fontSize: \"18px\", color: \"green\", marginBottom: \"30px\" }}>\r\n            Thank you. Your order has been received.\r\n          </p>\r\n          <div className=\"billing-detail-title\">Order details</div>\r\n          <div>\r\n            <div className=\"billing-detail-list comfirm-list\">\r\n              {cartList &&\r\n                cartList.map((item, index) => {\r\n                  return (\r\n                    <div key={index} className=\"billing-detail-item\">\r\n                      <div style={{ width: \"300px\" }}>\r\n                        <img\r\n                          src={\"data:image/png;base64,\" + item.productImg[0]}\r\n                          alt=\"\"\r\n                          width=\"60px\"\r\n                          height=\"60px\"\r\n                        ></img>\r\n                      </div>\r\n                      <div className=\"billing-detail-mobile\">\r\n                        <div className=\"billing-detail-name\">\r\n                          {item.productName}\r\n                        </div>\r\n                        <div className=\"billing-detail-count\">\r\n                          <p>x</p>\r\n                          {item.count}\r\n                        </div>\r\n                        <div className=\"billing-detail-price\">\r\n                          {(item.productFinalPrice * item.count)\r\n                            .toString()\r\n                            .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")}{\" \"}\r\n                          đ\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              <div className=\"billing-detail-item flex\">\r\n                <div className=\"billing-confirm-left\">SUBTOTAL</div>\r\n                <div className=\"billing-detail-mobile\">\r\n                  <div className=\"billing-detail-name\"></div>\r\n                  <div\r\n                    className=\"billing-detail-count\"\r\n                    style={{ color: \"#111\" }}\r\n                  ></div>\r\n                  {subTotal && (\r\n                    <div className=\"billing-detail-price billing-confirm-right\">\r\n                      {subTotal\r\n                        .toString()\r\n                        .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")}{\" \"}\r\n                      đ\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <div\r\n                className=\"billing-detail-item flex\"\r\n                style={{ justifyContent: \"space-between\" }}\r\n              >\r\n                <div className=\"billing-confirm-left\">ADDRESS</div>\r\n                <div className=\"billing-detail-mobile\">\r\n                  <div className=\"billing-detail-name\"></div>\r\n                  <div\r\n                    className=\"billing-detail-count\"\r\n                    style={{ color: \"#111\" }}\r\n                  ></div>\r\n                  <div\r\n                    className=\"billing-detail-price billing-confirm-right orderAddressConfirm\"\r\n                    style={{ textTransform: \"capitalize\" }}\r\n                  >\r\n                    {orderAddressConfirm} đ\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"billing-detail-item flex\">\r\n                <div className=\"billing-confirm-left\">SHIPPING FEE</div>\r\n                <div className=\"billing-detail-mobile\">\r\n                  <div className=\"billing-detail-name\"></div>\r\n                  <div\r\n                    className=\"billing-detail-count\"\r\n                    style={{ color: \"#111\" }}\r\n                  ></div>\r\n                  <div\r\n                    className=\"billing-detail-price billing-confirm-right\"\r\n                    style={{ textTransform: \"capitalize\" }}\r\n                  >\r\n                    {shipping} đ\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"billing-detail-item flex\">\r\n                <div className=\"billing-confirm-left\">TOTAL</div>\r\n                <div className=\"billing-detail-mobile\">\r\n                  <div className=\"billing-detail-name\"></div>\r\n                  <div\r\n                    className=\"billing-detail-count\"\r\n                    style={{ color: \"#111\" }}\r\n                  ></div>\r\n                  <div className=\"billing-detail-price billing-confirm-right\">\r\n                    {(Number(subTotal) + Number(shipping))\r\n                      .toString()\r\n                      .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")}{\" \"}\r\n                    đ\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"billing-detail-item flex\">\r\n                <div className=\"billing-confirm-left\">PAYMENT METHOD</div>\r\n                <div className=\"billing-detail-mobile\">\r\n                  <div className=\"billing-detail-name\"></div>\r\n                  <div\r\n                    className=\"billing-detail-count\"\r\n                    style={{ color: \"#111\" }}\r\n                  ></div>\r\n                  <div\r\n                    className=\"billing-detail-price billing-confirm-right\"\r\n                    style={{ textTransform: \"capitalize\" }}\r\n                  >\r\n                    {orderPaymentMethod}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div\r\n                className=\"order-btn btn\"\r\n                style={{ marginTop: \"30px\", marginBottom: \"30px\" }}\r\n                onClick={() => {\r\n                  document.body.style.overflow = \"unset\";\r\n                  localStorage.removeItem(\"total\");\r\n                  localStorage.removeItem(\"cart\");\r\n                  props.history.push(\"/shop\");\r\n                  window.location.reload(false);\r\n                }}\r\n              >\r\n                CONFIRM\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <div className=\"billing-detail\">\r\n        <div className=\"billing-detail-title\">Billing details</div>\r\n        <form className=\"billing-detail-form\">\r\n          <table className=\"billing-detail-table\">\r\n            <tbody>\r\n              <tr>\r\n                <td>Name</td>\r\n                <td>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"input\"\r\n                    name=\"name\"\r\n                    value={nameInput}\r\n                    onChange={(event) => {\r\n                      setNameInput(event.target.value);\r\n                    }}\r\n                  ></input>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>Phone number</td>\r\n                <td>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"input\"\r\n                    name=\"phone\"\r\n                    value={phoneInput}\r\n                    onChange={(event) => {\r\n                      setPhoneInput(event.target.value);\r\n                    }}\r\n                  ></input>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>Email</td>\r\n                <td>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"input\"\r\n                    name=\"phone\"\r\n                    value={emailInput}\r\n                    onChange={(event) => {\r\n                      setEmailInput(event.target.value);\r\n                    }}\r\n                  ></input>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>Province</td>\r\n                <td>\r\n                  <select\r\n                    className=\"input\"\r\n                    value={userTinh || \"\"}\r\n                    onChange={(event) => {\r\n                      setProvinceId(event.target.selectedIndex);\r\n                      setUserTinh(event.target.value);\r\n                    }}\r\n                  >\r\n                    <option disabled defaultValue>\r\n                      select a province\r\n                    </option>\r\n                    {tinh.map((item, index) => {\r\n                      return (\r\n                        <option key={index} value={item.name}>\r\n                          {item.name}\r\n                        </option>\r\n                      );\r\n                    })}\r\n                  </select>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>District</td>\r\n                <td>\r\n                  <select\r\n                    className=\"input\"\r\n                    value={userHuyen || \"\"}\r\n                    onChange={(event) => {\r\n                      setUserHuyen(event.target.value);\r\n                    }}\r\n                  >\r\n                    <option disabled defaultValue>\r\n                      select a district\r\n                    </option>\r\n                    {huyen.map((item, index) => {\r\n                      if (item.tinh_id === provinceId) {\r\n                        return (\r\n                          <option key={index} value={item.name}>\r\n                            {item.name}\r\n                          </option>\r\n                        );\r\n                      }\r\n                      return null;\r\n                    })}\r\n                  </select>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>Address</td>\r\n                <td>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"input\"\r\n                    name=\"address\"\r\n                    value={addressInput || \"\"}\r\n                    onChange={(event) => {\r\n                      setAddressInput(event.target.value);\r\n                    }}\r\n                  ></input>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </form>\r\n      </div>\r\n      <div className=\"billing-detail\">\r\n        <div className=\"billing-detail-title\">Your order</div>\r\n        <div className=\"billing-detail-form\">\r\n          <div className=\"billing-detail-list\">\r\n            {cartList &&\r\n              cartList.map((item, index) => {\r\n                return (\r\n                  <div key={index} className=\"billing-detail-item\">\r\n                    <img\r\n                      src={\"data:image/png;base64,\" + item.productImg[0]}\r\n                      alt=\"\"\r\n                      width=\"60px\"\r\n                      height=\"60px\"\r\n                    ></img>\r\n                    <div className=\"billing-detail-mobile\">\r\n                      <div className=\"billing-detail-name\">\r\n                        {item.productName}\r\n                      </div>\r\n                      <div className=\"billing-detail-count\">\r\n                        <p>x</p>\r\n                        {item.count}\r\n                      </div>\r\n                      <div className=\"billing-detail-price\">\r\n                        {(item.productFinalPrice * item.count)\r\n                          .toString()\r\n                          .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")}{\" \"}\r\n                        đ\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            <div className=\"billing-detail-item flex\">\r\n              <div\r\n                style={{\r\n                  width: \"60px\",\r\n                  height: \"60px\",\r\n                  lineHeight: \"60px\",\r\n                  fontSize: \"18px\",\r\n                }}\r\n              >\r\n                SUBTOTAL\r\n              </div>\r\n              <div className=\"billing-detail-mobile\">\r\n                <div className=\"billing-detail-name\"></div>\r\n                <div\r\n                  className=\"billing-detail-count\"\r\n                  style={{ color: \"#111\" }}\r\n                ></div>\r\n                {subTotal && (\r\n                  <div className=\"billing-detail-price\">\r\n                    {subTotal.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")}{\" \"}\r\n                    đ\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\"billing-detail-item flex\"\r\n              style={{ justifyContent: \"space-between\" }}\r\n            >\r\n              <div\r\n                style={{\r\n                  width: \"60px\",\r\n                  height: \"60px\",\r\n                  lineHeight: \"60px\",\r\n                  fontSize: \"18px\",\r\n                }}\r\n              >\r\n                SHIPPING\r\n              </div>\r\n              <div className=\"billing-detail-shipping\">\r\n                <select\r\n                  onChange={(event) => {\r\n                    setShipping(event.target.value);\r\n                  }}\r\n                >\r\n                  <option value=\"0\">FREESHIP - 0đ</option>\r\n                  <option value=\"30000\">FAST SHIPPING - 30000đ</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"billing-detail-item flex\">\r\n              <div\r\n                style={{\r\n                  width: \"60px\",\r\n                  height: \"60px\",\r\n                  lineHeight: \"60px\",\r\n                  fontSize: \"18px\",\r\n                }}\r\n              >\r\n                TOTAL\r\n              </div>\r\n              <div className=\"billing-detail-mobile\">\r\n                <div className=\"billing-detail-name\"></div>\r\n                <div\r\n                  className=\"billing-detail-count\"\r\n                  style={{ color: \"#111\" }}\r\n                ></div>\r\n                <div className=\"billing-detail-price\">\r\n                  {(Number(subTotal) + Number(shipping))\r\n                    .toString()\r\n                    .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")}{\" \"}\r\n                  đ\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"billing-detail-payment\">\r\n              <div style={{ fontSize: \"18px\" }}>PAYMENT METHOD</div>\r\n              <div className=\"billing-detail-mobile\">\r\n                <div className=\"payment-method-list\">\r\n                  <div\r\n                    id=\"1\"\r\n                    className=\"flex payment-method-item\"\r\n                    onClick={(event) => {\r\n                      checkedPayMent(event);\r\n                      setIsShowQR(false);\r\n                    }}\r\n                  >\r\n                    <div\r\n                      id=\"1\"\r\n                      className={\r\n                        methodPayment === 1\r\n                          ? \"size-check isChecked2\"\r\n                          : \"size-check\"\r\n                      }\r\n                    ></div>\r\n                    <p id=\"1\">CASH ON DELIVERY</p>\r\n                  </div>\r\n                  <div\r\n                    id=\"2\"\r\n                    className=\"flex payment-method-item\"\r\n                    onClick={(event) => {\r\n                      checkedPayMent(event);\r\n                      const description = `Thanh toan don hang #${_id}`;\r\n                      let order = {\r\n                        description: description,\r\n                        amount: total,\r\n                      };\r\n                      ZaloPay.qr(order, (res) => {\r\n                        showQR(res.orderurl);\r\n                        const check = setInterval(() => {\r\n                          $.getJSON(\r\n                            APIs.GETORDERSTATUS + \"?morderid=\" + res.apptransid\r\n                          ).done((res) => {\r\n                            if (res.returncode === 1) {\r\n                              setIsPaid(true);\r\n                              clearInterval(check);\r\n                            }\r\n                          });\r\n                        }, 1000);\r\n                      });\r\n                    }}\r\n                  >\r\n                    <div\r\n                      id=\"2\"\r\n                      className={\r\n                        methodPayment === 2\r\n                          ? \"size-check isChecked2\"\r\n                          : \"size-check\"\r\n                      }\r\n                    ></div>\r\n                    <p id=\"2\">ZALOPAY</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className={isShowQR ? \"qr-box flex-col\" : \"d-none\"}>\r\n              <div className=\"qr-code-box flex-center\">\r\n                <QRCode value={qrValue}></QRCode>\r\n              </div>\r\n              {!isPaid && (\r\n                <div className=\"qr-status\" style={{ color: \"red\" }}>\r\n                  Đang chờ thanh toán...\r\n                </div>\r\n              )}\r\n              {isPaid && (\r\n                <div className=\"qr-status\">Thanh toán thành công!</div>\r\n              )}\r\n              {!isPaid && (\r\n                <div className=\"qr-help\">\r\n                  <div className=\"qr-help-title\">Hướng dẫn thanh toán</div>\r\n                  <ul className=\"qr-help-list\">\r\n                    <li>\r\n                      <span>Bước 1:</span>\r\n                      <strong> Mở</strong> ứng dụng <strong>ZaloPay</strong>\r\n                    </li>\r\n                    <li>\r\n                      <span>Bước 2:</span> Chọn <strong>\"Thanh Toán\"</strong> và\r\n                      quét mã QR\r\n                    </li>\r\n                    <li>\r\n                      <span>Bước 3:</span> <strong> Xác nhận thanh toán</strong>{\" \"}\r\n                      ở trong ứng dụng\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"order-btn btn\" onClick={placeAnOrder}>\r\n              PLACE AN ORDER\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(CheckoutBody);\r\n"]},"metadata":{},"sourceType":"module"}