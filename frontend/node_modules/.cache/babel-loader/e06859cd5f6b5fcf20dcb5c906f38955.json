{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\freelancerCoder\\\\Ecommerce\\\\frontend\\\\src\\\\components\\\\admin\\\\Dashboard\\\\Order\\\\DashboardOrderCreate.js\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport axios from \"axios\";\nexport default function DashboardOrderCreate(props) {\n  const createForm = useRef();\n  const [tinh, setTinh] = useState([]);\n  const [huyen, setHuyen] = useState([]);\n  const [orderName, setOrderName] = useState(\"\");\n  const [orderEmail, setOrderEmail] = useState(\"\");\n  const [orderPhone, setOrderPhone] = useState(\"\");\n  const [orderAddress, setOrderAddress] = useState(\"\");\n  const [orderProvince, setOrderProvince] = useState(null);\n  const [orderDistric, setOrderDistric] = useState(null);\n  const [orderPaymentMethod, setOrderPaymentMethod] = useState(\"\");\n  const [provinceId, setProvinceId] = useState(\"\");\n  const [product, setProduct] = useState([]);\n  const [productList, setProductList] = useState([]);\n\n  const onSubmit = event => {\n    event.preventDefault();\n    var listOrder = [];\n    var total = 0;\n\n    for (let i in productList) {\n      const data = {\n        id: productList[i]._id,\n        amount: productList[i].count\n      };\n      total += productList[i].productFinalPrice * productList[i].count;\n      listOrder.push(data);\n    }\n\n    axios.post(\"http://localhost:4000/order\", {\n      orderName: orderName,\n      orderEmail: orderEmail,\n      orderPhone: orderPhone,\n      orderAddress: orderAddress,\n      orderTinh: orderProvince,\n      orderHuyen: orderDistric,\n      orderList: listOrder,\n      orderTotal: total,\n      orderPaymentMethod: orderPaymentMethod,\n      orderStatus: \"transported\",\n      orderDate: new Date()\n    }).then(() => {\n      props.setCloseCreateFunc(false);\n      props.setToastFunc(true);\n    });\n  };\n\n  const [userList, setUserList] = useState([]);\n  const [user, setUser] = useState(\"\");\n  useEffect(() => {\n    axios.get(`http://localhost:4000/users/list`).then(res => {\n      setUserList(res.data);\n      res.data.filter(item => {\n        if (item.userEmail === user) {\n          setOrderName(item.userName);\n          setOrderEmail(item.userEmail);\n          setOrderPhone(item.userPhone);\n          setOrderProvince(item.userProvince);\n          setOrderDistric(item.userDistric);\n          setOrderAddress(item.userAddress);\n\n          if (item.userTinh !== \"\") {\n            tinh.filter(item2 => {\n              if (item.userTinh === item2.name) {\n                setProvinceId(item2.id);\n              }\n\n              return null;\n            });\n            setOrderProvince(item.userTinh);\n          }\n\n          if (item.userHuyen !== \"\") {\n            setOrderDistric(item.userHuyen);\n          }\n        }\n\n        return null;\n      });\n    });\n    axios.get(`http://localhost:4000/vietnam`).then(res => {\n      setTinh(res.data[0].tinh);\n      setHuyen(res.data[0].huyen);\n    });\n    axios.get(`http://localhost:4000/products`).then(res => {\n      setProduct(res.data);\n    });\n\n    if (user === \"\") {\n      setOrderName(\"\");\n      setOrderEmail(\"\");\n      setOrderPhone(\"\");\n      setOrderAddress(\"\");\n      setOrderProvince(\"\");\n      setProvinceId(\"\");\n    }\n  }, [user]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"DashboardProductInfo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"create-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"create-box-title flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"create-box-title-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }, \"Order infomation\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"create-box-title-close flex-center\",\n    onClick: () => {\n      props.setCloseCreateFunc(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faTimes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    encType: \"multipart/form-data\",\n    ref: createForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"create-box-row flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-left flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, \"Already have an account?\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"input\",\n    onChange: event => {\n      setUser(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }), userList.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: item.userEmail,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }\n    }, item.userEmail);\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"create-box-row flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-left flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    value: orderName || \"\",\n    onChange: event => {\n      setOrderName(event.target.value);\n    },\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"create-box-row flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-left flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"email\",\n    value: orderEmail || \"\",\n    onChange: event => {\n      setOrderEmail(event.target.value);\n    },\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"create-box-row flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-left flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 13\n    }\n  }, \"Phone\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"phone\",\n    value: orderPhone || \"\",\n    onChange: event => {\n      setOrderPhone(event.target.value);\n    },\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"create-box-row flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-left flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 13\n    }\n  }, \"Province\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"input\",\n    value: orderProvince,\n    onChange: event => {\n      setProvinceId(event.target.selectedIndex);\n      setOrderProvince(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    selected: true,\n    value: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 17\n    }\n  }, \"select a province\"), tinh.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: item.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 21\n      }\n    }, item.name);\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"create-box-row flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-left flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 13\n    }\n  }, \"District\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"input\",\n    value: \"orderDistric\",\n    onChange: event => {\n      setOrderDistric(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    selected: true,\n    value: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 17\n    }\n  }, \"select a district\"), huyen.map((item, index) => {\n    if (item.tinh_id === provinceId) {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: index,\n        value: item.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 23\n        }\n      }, item.name);\n    }\n\n    return null;\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"create-box-row flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-left flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 13\n    }\n  }, \"Address\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"phone\",\n    value: orderAddress || \"\",\n    onChange: event => {\n      setOrderAddress(event.target.value);\n    },\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"create-box-row flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-left flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 13\n    }\n  }, \"Items\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"input\",\n    style: {\n      height: \"25px\",\n      marginBottom: \"10px\"\n    },\n    value: \"\",\n    onChange: event => {\n      const isExists = (cartItems = [], item = {}) => {\n        for (let cartItem of cartItems) {\n          if (cartItem._id === item._id) {\n            return cartItem;\n          }\n        }\n\n        return false;\n      };\n\n      const value = event.target.value;\n      const virtualCart = [...productList];\n\n      if (productList.length === 0) {\n        virtualCart.push({ ...JSON.parse(value),\n          count: 1\n        });\n      } else {\n        if (!isExists(productList, JSON.parse(value))) {\n          virtualCart.push({ ...JSON.parse(value),\n            count: 1\n          });\n        } else {\n          for (let i = 0; i < virtualCart.length; i++) {\n            if (virtualCart[i]._id === JSON.parse(value)._id) {\n              virtualCart[i].count += 1;\n              break;\n            }\n          }\n        }\n      }\n\n      setProductList(virtualCart);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    selected: true,\n    value: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 17\n    }\n  }, \"select a product\"), product.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: JSON.stringify(item),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 21\n      }\n    }, \"Name: \", item.productName, \", Price:\", \" \", item.productFinalPrice.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\"));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    style: {\n      overflowY: \"hidden\",\n      flexWrap: \"wrap\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 15\n    }\n  }, productList && productList.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"order-list-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item.productImg[0],\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        width: \"55%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 25\n      }\n    }, item.productName), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        alignItems: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      id: index,\n      className: \"count-btn flex-center\",\n      onClick: event => {\n        const arr = [...productList];\n        const id = event.target.id;\n\n        for (let i in arr) {\n          if (id === i) {\n            if (arr[i].count === 0) {\n              return;\n            } else {\n              arr[i].count -= 1;\n            }\n          }\n        }\n\n        setProductList(arr);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 27\n      }\n    }, \"-\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 27\n      }\n    }, item.count), /*#__PURE__*/React.createElement(\"p\", {\n      id: index,\n      className: \"count-btn flex-center\",\n      onClick: event => {\n        const arr = [...productList];\n        const id = event.target.id;\n\n        for (let i in arr) {\n          if (id === i) {\n            arr[i].count += 1;\n          }\n        }\n\n        setProductList(arr);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 27\n      }\n    }, \"+\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: index,\n      className: \"delete-order-item flex-center\",\n      onClick: event => {\n        var arr = [];\n        const id = event.target.id;\n\n        for (let i in productList) {\n          if (i !== id) {\n            arr.push(productList[i]);\n          }\n        }\n\n        setProductList(arr);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      style: {\n        pointerEvents: \"none\"\n      },\n      icon: faTimes,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 27\n      }\n    })));\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"create-box-row flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-left flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 13\n    }\n  }, \"Payment method\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"input\",\n    type: \"text\",\n    value: orderPaymentMethod || \"\",\n    onChange: event => {\n      setOrderPaymentMethod(event.target.value);\n    },\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"cash on delivery\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 17\n    }\n  }, \"Cash On Delivery\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"direct back transfer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 17\n    }\n  }, \"Direct Back Transfer\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"paypal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 17\n    }\n  }, \"Paypal\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-center\",\n    style: {\n      marginTop: \"40px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"create-box-btn btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 13\n    }\n  }, \"Create order\")))));\n}","map":{"version":3,"sources":["C:/Users/Admin/Desktop/freelancerCoder/Ecommerce/frontend/src/components/admin/Dashboard/Order/DashboardOrderCreate.js"],"names":["React","useEffect","useRef","useState","FontAwesomeIcon","faTimes","axios","DashboardOrderCreate","props","createForm","tinh","setTinh","huyen","setHuyen","orderName","setOrderName","orderEmail","setOrderEmail","orderPhone","setOrderPhone","orderAddress","setOrderAddress","orderProvince","setOrderProvince","orderDistric","setOrderDistric","orderPaymentMethod","setOrderPaymentMethod","provinceId","setProvinceId","product","setProduct","productList","setProductList","onSubmit","event","preventDefault","listOrder","total","i","data","id","_id","amount","count","productFinalPrice","push","post","orderTinh","orderHuyen","orderList","orderTotal","orderStatus","orderDate","Date","then","setCloseCreateFunc","setToastFunc","userList","setUserList","user","setUser","get","res","filter","item","userEmail","userName","userPhone","userProvince","userDistric","userAddress","userTinh","item2","name","userHuyen","target","value","map","index","selectedIndex","tinh_id","height","marginBottom","isExists","cartItems","cartItem","virtualCart","length","JSON","parse","stringify","productName","toString","replace","overflowY","flexWrap","productImg","width","display","alignItems","arr","pointerEvents","marginTop"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\";\r\nimport axios from \"axios\";\r\n\r\nexport default function DashboardOrderCreate(props) {\r\n  const createForm = useRef();\r\n\r\n  const [tinh, setTinh] = useState([]);\r\n  const [huyen, setHuyen] = useState([]);\r\n\r\n  const [orderName, setOrderName] = useState(\"\");\r\n  const [orderEmail, setOrderEmail] = useState(\"\");\r\n  const [orderPhone, setOrderPhone] = useState(\"\");\r\n  const [orderAddress, setOrderAddress] = useState(\"\");\r\n  const [orderProvince, setOrderProvince] = useState(null);\r\n  const [orderDistric, setOrderDistric] = useState(null);\r\n  const [orderPaymentMethod, setOrderPaymentMethod] = useState(\"\");\r\n  const [provinceId, setProvinceId] = useState(\"\");\r\n  const [product, setProduct] = useState([]);\r\n  const [productList, setProductList] = useState([]);\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    var listOrder = [];\r\n    var total = 0;\r\n    for (let i in productList) {\r\n      const data = {\r\n        id: productList[i]._id,\r\n        amount: productList[i].count,\r\n      };\r\n      total += productList[i].productFinalPrice * productList[i].count;\r\n      listOrder.push(data);\r\n    }\r\n\r\n    axios\r\n      .post(\"http://localhost:4000/order\", {\r\n        orderName: orderName,\r\n        orderEmail: orderEmail,\r\n        orderPhone: orderPhone,\r\n        orderAddress: orderAddress,\r\n        orderTinh: orderProvince,\r\n        orderHuyen: orderDistric,\r\n        orderList: listOrder,\r\n        orderTotal: total,\r\n        orderPaymentMethod: orderPaymentMethod,\r\n        orderStatus: \"transported\",\r\n        orderDate: new Date(),\r\n      })\r\n      .then(() => {\r\n        props.setCloseCreateFunc(false);\r\n        props.setToastFunc(true);\r\n      });\r\n  };\r\n\r\n  const [userList, setUserList] = useState([]);\r\n  const [user, setUser] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    axios.get(`http://localhost:4000/users/list`).then((res) => {\r\n      setUserList(res.data);\r\n      res.data.filter((item) => {\r\n        if (item.userEmail === user) {\r\n          setOrderName(item.userName);\r\n          setOrderEmail(item.userEmail);\r\n          setOrderPhone(item.userPhone);\r\n          setOrderProvince(item.userProvince);\r\n          setOrderDistric(item.userDistric);\r\n          setOrderAddress(item.userAddress);\r\n          if (item.userTinh !== \"\") {\r\n            tinh.filter((item2) => {\r\n              if (item.userTinh === item2.name) {\r\n                setProvinceId(item2.id);\r\n              }\r\n              return null;\r\n            });\r\n            setOrderProvince(item.userTinh);\r\n          }\r\n          if (item.userHuyen !== \"\") {\r\n            setOrderDistric(item.userHuyen);\r\n          }\r\n        }\r\n        return null;\r\n      });\r\n    });\r\n    axios.get(`http://localhost:4000/vietnam`).then((res) => {\r\n      setTinh(res.data[0].tinh);\r\n      setHuyen(res.data[0].huyen);\r\n    });\r\n    axios.get(`http://localhost:4000/products`).then((res) => {\r\n      setProduct(res.data);\r\n    });\r\n    if (user === \"\") {\r\n      setOrderName(\"\");\r\n      setOrderEmail(\"\");\r\n      setOrderPhone(\"\");\r\n      setOrderAddress(\"\");\r\n      setOrderProvince(\"\");\r\n      setProvinceId(\"\");\r\n    }\r\n  }, [user]);\r\n\r\n  return (\r\n    <div className=\"DashboardProductInfo\">\r\n      <div className=\"create-box\">\r\n        <div className=\"create-box-title flex\">\r\n          <div className=\"create-box-title-text\">Order infomation</div>\r\n          <div\r\n            className=\"create-box-title-close flex-center\"\r\n            onClick={() => {\r\n              props.setCloseCreateFunc(false);\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faTimes} />\r\n          </div>\r\n        </div>\r\n        <form\r\n          onSubmit={onSubmit}\r\n          encType=\"multipart/form-data\"\r\n          ref={createForm}\r\n        >\r\n          <div className=\"create-box-row flex\">\r\n            <div className=\"dashboard-left flex\">Already have an account?</div>\r\n            <div className=\"dashboard-right\">\r\n              <select\r\n                className=\"input\"\r\n                onChange={(event) => {\r\n                  setUser(event.target.value);\r\n                }}\r\n              >\r\n                <option></option>\r\n                {userList.map((item, index) => {\r\n                  return (\r\n                    <option key={index} value={item.userEmail}>\r\n                      {item.userEmail}\r\n                    </option>\r\n                  );\r\n                })}\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"create-box-row flex\">\r\n            <div className=\"dashboard-left flex\">Name</div>\r\n            <div className=\"dashboard-right\">\r\n              <input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                value={orderName || \"\"}\r\n                onChange={(event) => {\r\n                  setOrderName(event.target.value);\r\n                }}\r\n                required\r\n              ></input>\r\n            </div>\r\n          </div>\r\n          <div className=\"create-box-row flex\">\r\n            <div className=\"dashboard-left flex\">Email</div>\r\n            <div className=\"dashboard-right\">\r\n              <input\r\n                type=\"text\"\r\n                name=\"email\"\r\n                value={orderEmail || \"\"}\r\n                onChange={(event) => {\r\n                  setOrderEmail(event.target.value);\r\n                }}\r\n                required\r\n              ></input>\r\n            </div>\r\n          </div>\r\n          <div className=\"create-box-row flex\">\r\n            <div className=\"dashboard-left flex\">Phone</div>\r\n            <div className=\"dashboard-right\">\r\n              <input\r\n                type=\"text\"\r\n                name=\"phone\"\r\n                value={orderPhone || \"\"}\r\n                onChange={(event) => {\r\n                  setOrderPhone(event.target.value);\r\n                }}\r\n                required\r\n              ></input>\r\n            </div>\r\n          </div>\r\n          <div className=\"create-box-row flex\">\r\n            <div className=\"dashboard-left flex\">Province</div>\r\n            <div className=\"dashboard-right\">\r\n              <select\r\n                className=\"input\"\r\n                value={orderProvince}\r\n                onChange={(event) => {\r\n                  setProvinceId(event.target.selectedIndex);\r\n                  setOrderProvince(event.target.value);\r\n                }}\r\n              >\r\n                <option disabled selected value>\r\n                  select a province\r\n                </option>\r\n                {tinh.map((item, index) => {\r\n                  return (\r\n                    <option key={index} value={item.name}>\r\n                      {item.name}\r\n                    </option>\r\n                  );\r\n                })}\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"create-box-row flex\">\r\n            <div className=\"dashboard-left flex\">District</div>\r\n            <div className=\"dashboard-right\">\r\n              <select\r\n                className=\"input\"\r\n                value={\"orderDistric\"}\r\n                onChange={(event) => {\r\n                  setOrderDistric(event.target.value);\r\n                }}\r\n              >\r\n                <option disabled selected value>\r\n                  select a district\r\n                </option>\r\n                {huyen.map((item, index) => {\r\n                  if (item.tinh_id === provinceId) {\r\n                    return (\r\n                      <option key={index} value={item.name}>\r\n                        {item.name}\r\n                      </option>\r\n                    );\r\n                  }\r\n                  return null;\r\n                })}\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"create-box-row flex\">\r\n            <div className=\"dashboard-left flex\">Address</div>\r\n            <div className=\"dashboard-right\">\r\n              <input\r\n                type=\"text\"\r\n                name=\"phone\"\r\n                value={orderAddress || \"\"}\r\n                onChange={(event) => {\r\n                  setOrderAddress(event.target.value);\r\n                }}\r\n                required\r\n              ></input>\r\n            </div>\r\n          </div>\r\n          <div className=\"create-box-row flex\">\r\n            <div className=\"dashboard-left flex\">Items</div>\r\n            <div className=\"dashboard-right\">\r\n              <select\r\n                className=\"input\"\r\n                style={{ height: \"25px\", marginBottom: \"10px\" }}\r\n                value={\"\"}\r\n                onChange={(event) => {\r\n                  const isExists = (cartItems = [], item = {}) => {\r\n                    for (let cartItem of cartItems) {\r\n                      if (cartItem._id === item._id) {\r\n                        return cartItem;\r\n                      }\r\n                    }\r\n                    return false;\r\n                  };\r\n\r\n                  const value = event.target.value;\r\n                  const virtualCart = [...productList];\r\n                  if (productList.length === 0) {\r\n                    virtualCart.push({ ...JSON.parse(value), count: 1 });\r\n                  } else {\r\n                    if (!isExists(productList, JSON.parse(value))) {\r\n                      virtualCart.push({ ...JSON.parse(value), count: 1 });\r\n                    } else {\r\n                      for (let i = 0; i < virtualCart.length; i++) {\r\n                        if (virtualCart[i]._id === JSON.parse(value)._id) {\r\n                          virtualCart[i].count += 1;\r\n                          break;\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                  setProductList(virtualCart);\r\n                }}\r\n              >\r\n                <option selected value>\r\n                  select a product\r\n                </option>\r\n                {product.map((item, index) => {\r\n                  return (\r\n                    <option key={index} value={JSON.stringify(item)}>\r\n                      Name: {item.productName}, Price:{\" \"}\r\n                      {item.productFinalPrice\r\n                        .toString()\r\n                        .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")}\r\n                    </option>\r\n                  );\r\n                })}\r\n              </select>\r\n              <div\r\n                className=\"\"\r\n                style={{ overflowY: \"hidden\", flexWrap: \"wrap\" }}\r\n              >\r\n                {productList &&\r\n                  productList.map((item, index) => {\r\n                    return (\r\n                      <div key={index} className=\"order-list-item\">\r\n                        <img src={item.productImg[0]} alt=\"\"></img>\r\n                        <p style={{ width: \"55%\" }}>{item.productName}</p>\r\n                        <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                          <p\r\n                            id={index}\r\n                            className=\"count-btn flex-center\"\r\n                            onClick={(event) => {\r\n                              const arr = [...productList];\r\n                              const id = event.target.id;\r\n                              for (let i in arr) {\r\n                                if (id === i) {\r\n                                  if (arr[i].count === 0) {\r\n                                    return;\r\n                                  } else {\r\n                                    arr[i].count -= 1;\r\n                                  }\r\n                                }\r\n                              }\r\n                              setProductList(arr);\r\n                            }}\r\n                          >\r\n                            -\r\n                          </p>\r\n                          <p>{item.count}</p>\r\n                          <p\r\n                            id={index}\r\n                            className=\"count-btn flex-center\"\r\n                            onClick={(event) => {\r\n                              const arr = [...productList];\r\n                              const id = event.target.id;\r\n                              for (let i in arr) {\r\n                                if (id === i) {\r\n                                  arr[i].count += 1;\r\n                                }\r\n                              }\r\n                              setProductList(arr);\r\n                            }}\r\n                          >\r\n                            +\r\n                          </p>\r\n                        </div>\r\n                        <div\r\n                          id={index}\r\n                          className=\"delete-order-item flex-center\"\r\n                          onClick={(event) => {\r\n                            var arr = [];\r\n                            const id = event.target.id;\r\n                            for (let i in productList) {\r\n                              if (i !== id) {\r\n                                arr.push(productList[i]);\r\n                              }\r\n                            }\r\n                            setProductList(arr);\r\n                          }}\r\n                        >\r\n                          <FontAwesomeIcon\r\n                            style={{ pointerEvents: \"none\" }}\r\n                            icon={faTimes}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"create-box-row flex\">\r\n            <div className=\"dashboard-left flex\">Payment method</div>\r\n            <div className=\"dashboard-right\">\r\n              <select\r\n                className=\"input\"\r\n                type=\"text\"\r\n                value={orderPaymentMethod || \"\"}\r\n                onChange={(event) => {\r\n                  setOrderPaymentMethod(event.target.value);\r\n                }}\r\n                required\r\n              >\r\n                <option></option>\r\n                <option value=\"cash on delivery\">Cash On Delivery</option>\r\n                <option value=\"direct back transfer\">\r\n                  Direct Back Transfer\r\n                </option>\r\n                <option value=\"paypal\">Paypal</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex-center\" style={{ marginTop: \"40px\" }}>\r\n            <button className=\"create-box-btn btn\">Create order</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}