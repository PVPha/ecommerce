{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\freelancerCoder\\\\Ecommerce\\\\frontend\\\\src\\\\components\\\\Header\\\\Search.js\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport \"../../App.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCartPlus, faCheckCircle, faSearch, faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport axios from \"axios\";\nimport { CartContext } from \"../../contexts/Cart\";\nexport default function Search(props) {\n  const [products, setProducts] = useState([]);\n  const [constProducts, setConstProducts] = useState([]);\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [toast, setToast] = useState(false);\n  useEffect(() => {\n    axios.get(`http://localhost:4000/products`).then(res => {\n      setProducts(res.data);\n      setConstProducts(res.data);\n    });\n  }, []);\n\n  const search = event => {\n    const value = event.target.value;\n    setSearchInput(value);\n    const search = [];\n\n    for (let i in constProducts) {\n      if (constProducts[i].productName.toLowerCase().includes(searchInput)) {\n        search.push(constProducts[i]);\n      }\n    }\n\n    setProducts(search);\n  };\n\n  const {\n    removeFromWishList,\n    addToCart\n  } = useContext(CartContext);\n\n  const cartClick = event => {\n    const id = event.target.id;\n    axios.get(`http://localhost:4000/products/${id}`).then(res => {\n      addToCart(res.data);\n    });\n    setToast(true);\n    setTimeout(() => {\n      setToast(false);\n    }, 2000);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: props.searchOpen === false ? \"Search displayNone\" : \"Search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: toast ? \"toast toast-show\" : \"toast\",\n    style: {\n      top: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faCheckCircle,\n    className: \"icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }), \"Product is added to cart successfully\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-header flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, \"Search\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-close\",\n    onClick: props.clickToClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faTimes,\n    className: \"icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: props.searchOpen === false ? \"\" : \"fadeIn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faSearch,\n    className: \"icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Search\",\n    onChange: search,\n    value: searchInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faTimes,\n    className: \"icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }))), products.length > 0 && searchInput !== \"\" && products.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cart-item flex\",\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cart-product-img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item.productImg[0],\n      width: \"80px\",\n      height: \"100%\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cart-product-mobile flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cart-product-name flex\",\n      style: {\n        alignItems: \"center\",\n        justifyContent: \"flex-start\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 19\n      }\n    }, item.productName), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cart-product-price wl-mb-price flex\",\n      style: {\n        alignItems: \"center\",\n        justifyContent: \"flex-start\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 19\n      }\n    }, item.productFinalPrice.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\"), \" \", \"\\u0111\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-info-addtocart wl-mb-addtocart flex-center btn\",\n      onClick: event => {\n        cartClick(event);\n        removeFromWishList(event);\n      },\n      id: item._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      style: {\n        pointerEvents: \"none\"\n      },\n      icon: faCartPlus,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        pointerEvents: \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }\n    }, \"Add to cart\"))));\n  })));\n}","map":{"version":3,"sources":["C:/Users/Admin/Desktop/freelancerCoder/Ecommerce/frontend/src/components/Header/Search.js"],"names":["React","useContext","useEffect","useState","FontAwesomeIcon","faCartPlus","faCheckCircle","faSearch","faTimes","axios","CartContext","Search","props","products","setProducts","constProducts","setConstProducts","searchInput","setSearchInput","toast","setToast","get","then","res","data","search","event","value","target","i","productName","toLowerCase","includes","push","removeFromWishList","addToCart","cartClick","id","setTimeout","searchOpen","top","clickToClose","length","map","item","index","productImg","alignItems","justifyContent","productFinalPrice","toString","replace","_id","pointerEvents"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"../../App.css\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faCartPlus,\r\n  faCheckCircle,\r\n  faSearch,\r\n  faTimes,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport axios from \"axios\";\r\nimport { CartContext } from \"../../contexts/Cart\";\r\n\r\nexport default function Search(props) {\r\n  const [products, setProducts] = useState([]);\r\n  const [constProducts, setConstProducts] = useState([]);\r\n  const [searchInput, setSearchInput] = useState(\"\");\r\n  const [toast, setToast] = useState(false);\r\n\r\n  useEffect(() => {\r\n    axios.get(`http://localhost:4000/products`).then((res) => {\r\n      setProducts(res.data);\r\n      setConstProducts(res.data);\r\n    });\r\n  }, []);\r\n\r\n  const search = (event) => {\r\n    const value = event.target.value;\r\n    setSearchInput(value);\r\n    const search = [];\r\n    for (let i in constProducts) {\r\n      if (constProducts[i].productName.toLowerCase().includes(searchInput)) {\r\n        search.push(constProducts[i]);\r\n      }\r\n    }\r\n    setProducts(search);\r\n  };\r\n\r\n  const { removeFromWishList, addToCart } = useContext(CartContext);\r\n\r\n  const cartClick = (event) => {\r\n    const id = event.target.id;\r\n    axios.get(`http://localhost:4000/products/${id}`).then((res) => {\r\n      addToCart(res.data);\r\n    });\r\n    setToast(true);\r\n    setTimeout(() => {\r\n      setToast(false);\r\n    }, 2000);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={props.searchOpen === false ? \"Search displayNone\" : \"Search\"}\r\n    >\r\n      <div\r\n        className={toast ? \"toast toast-show\" : \"toast\"}\r\n        style={{ top: \"20px\" }}\r\n      >\r\n        <FontAwesomeIcon icon={faCheckCircle} className=\"icon\" />\r\n        Product is added to cart successfully\r\n      </div>\r\n      <div className=\"search-header flex\">\r\n        <div className=\"search-title\">Search</div>\r\n        <div className=\"search-close\" onClick={props.clickToClose}>\r\n          <FontAwesomeIcon icon={faTimes} className=\"icon\" />\r\n        </div>\r\n      </div>\r\n      <div className={props.searchOpen === false ? \"\" : \"fadeIn\"}>\r\n        <div className=\"search-form\">\r\n          <form className=\"flex\">\r\n            <FontAwesomeIcon icon={faSearch} className=\"icon\" />\r\n            <input placeholder=\"Search\" onChange={search} value={searchInput} />\r\n            <FontAwesomeIcon icon={faTimes} className=\"icon\" />\r\n          </form>\r\n        </div>\r\n        {products.length > 0 &&\r\n          searchInput !== \"\" &&\r\n          products.map((item, index) => {\r\n            return (\r\n              <div className=\"cart-item flex\" key={index}>\r\n                <div className=\"cart-product-img\">\r\n                  <img\r\n                    src={item.productImg[0]}\r\n                    width=\"80px\"\r\n                    height=\"100%\"\r\n                    alt=\"\"\r\n                  ></img>\r\n                </div>\r\n                <div className=\"cart-product-mobile flex\">\r\n                  <div\r\n                    className=\"cart-product-name flex\"\r\n                    style={{\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"flex-start\",\r\n                    }}\r\n                  >\r\n                    {item.productName}\r\n                  </div>\r\n                  <div\r\n                    className=\"cart-product-price wl-mb-price flex\"\r\n                    style={{\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"flex-start\",\r\n                    }}\r\n                  >\r\n                    {item.productFinalPrice\r\n                      .toString()\r\n                      .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")}{\" \"}\r\n                    đ\r\n                  </div>\r\n\r\n                  <div\r\n                    className=\"product-info-addtocart wl-mb-addtocart flex-center btn\"\r\n                    onClick={(event) => {\r\n                      cartClick(event);\r\n                      removeFromWishList(event);\r\n                    }}\r\n                    id={item._id}\r\n                  >\r\n                    <FontAwesomeIcon\r\n                      style={{ pointerEvents: \"none\" }}\r\n                      icon={faCartPlus}\r\n                    />\r\n                    <p style={{ pointerEvents: \"none\" }}>Add to cart</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}