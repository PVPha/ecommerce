{"ast":null,"code":"import { APIs, postJSON } from './common';\nexport class ZaloPay {\n  static listenCallback(apptransid, cb) {\n    const ws = new WebSocket(APIs.SUBSCRIBE + \"?apptransid=\" + apptransid);\n    console.log(ws);\n\n    ws.onopen = e => {\n      console.log('open ws', apptransid);\n    };\n\n    ws.onmessage = e => {\n      const data = JSON.parse(e.data);\n      console.log('ws message', data);\n      cb(data); //   alert('Thanh toán thành công');\n    };\n\n    ws.onclose = e => {\n      console.log('close ws', apptransid);\n    };\n  }\n\n  static pay(url, data = {}, done) {\n    return postJSON(url, data, done, () => {// alert('Thanh toán thất bại');\n    });\n  }\n\n  static qr(data, done) {\n    ZaloPay.pay(APIs.QR, data, res => {\n      if (res.returncode === 1) {\n        done(res);\n      } else {// alert(parseResult(res));\n      }\n    });\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Admin/Desktop/freelancerCoder/Ecommerce/frontend/src/components/ZaloPay/zalopay.js"],"names":["APIs","postJSON","ZaloPay","listenCallback","apptransid","cb","ws","WebSocket","SUBSCRIBE","console","log","onopen","e","onmessage","data","JSON","parse","onclose","pay","url","done","qr","QR","res","returncode"],"mappings":"AAAA,SAASA,IAAT,EAAeC,QAAf,QAA+B,UAA/B;AAEA,OAAO,MAAMC,OAAN,CAAc;AACjB,SAAOC,cAAP,CAAsBC,UAAtB,EAAkCC,EAAlC,EAAsC;AACpC,UAAMC,EAAE,GAAG,IAAIC,SAAJ,CAAcP,IAAI,CAACQ,SAAL,GAAiB,cAAjB,GAAkCJ,UAAhD,CAAX;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAYJ,EAAZ;;AACAA,IAAAA,EAAE,CAACK,MAAH,GAAYC,CAAC,IAAI;AACbH,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBN,UAAvB;AACH,KAFD;;AAGAE,IAAAA,EAAE,CAACO,SAAH,GAAeD,CAAC,IAAI;AAChB,YAAME,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWJ,CAAC,CAACE,IAAb,CAAb;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BI,IAA1B;AACAT,MAAAA,EAAE,CAACS,IAAD,CAAF,CAHgB,CAIlB;AACD,KALD;;AAMAR,IAAAA,EAAE,CAACW,OAAH,GAAaL,CAAC,IAAI;AACdH,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBN,UAAxB;AACH,KAFD;AAGD;;AAED,SAAOc,GAAP,CAAWC,GAAX,EAAgBL,IAAI,GAAG,EAAvB,EAA2BM,IAA3B,EAAiC;AAC7B,WAAOnB,QAAQ,CAACkB,GAAD,EAAML,IAAN,EAAYM,IAAZ,EAAkB,MAAM,CACnC;AACH,KAFc,CAAf;AAGH;;AAED,SAAOC,EAAP,CAAUP,IAAV,EAAgBM,IAAhB,EAAsB;AAClBlB,IAAAA,OAAO,CAACgB,GAAR,CAAYlB,IAAI,CAACsB,EAAjB,EAAqBR,IAArB,EAA2BS,GAAG,IAAI;AAC9B,UAAIA,GAAG,CAACC,UAAJ,KAAmB,CAAvB,EAA0B;AACtBJ,QAAAA,IAAI,CAACG,GAAD,CAAJ;AACH,OAFD,MAEO,CACH;AACH;AACJ,KAND;AAOH;;AAhCgB","sourcesContent":["import { APIs, postJSON } from './common'; \r\n\r\nexport class ZaloPay {\r\n    static listenCallback(apptransid, cb) {\r\n      const ws = new WebSocket(APIs.SUBSCRIBE + \"?apptransid=\" + apptransid); \r\n      console.log(ws)\r\n      ws.onopen = e => {\r\n          console.log('open ws', apptransid);\r\n      };\r\n      ws.onmessage = e => {\r\n          const data = JSON.parse(e.data);\r\n          console.log('ws message', data);\r\n          cb(data);\r\n        //   alert('Thanh toán thành công');\r\n      };\r\n      ws.onclose = e => {\r\n          console.log('close ws', apptransid);\r\n      };\r\n    }\r\n\r\n    static pay(url, data = {}, done) {\r\n        return postJSON(url, data, done, () => {\r\n            // alert('Thanh toán thất bại');\r\n        })\r\n    }\r\n  \r\n    static qr(data, done) {\r\n        ZaloPay.pay(APIs.QR, data, res => {\r\n            if (res.returncode === 1) { \r\n                done(res);\r\n            } else {\r\n                // alert(parseResult(res));\r\n            }\r\n        });\r\n    }  \r\n}"]},"metadata":{},"sourceType":"module"}