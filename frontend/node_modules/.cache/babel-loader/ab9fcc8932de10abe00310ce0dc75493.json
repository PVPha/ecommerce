{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\freelancerCoder\\\\Ecommerce\\\\frontend\\\\src\\\\components\\\\admin\\\\Dashboard\\\\Dashboard.js\";\nimport React, { useEffect, useState } from \"react\";\nimport \"../../../App.css\";\nimport \"../../../Styles/Dashboard.css\";\nimport DashboardBody from \"./DashboardBody\";\nimport DashboardMenu from \"./DashboardMenu\";\nimport { faEnvelope, faFileInvoice, faHome, faInbox, faNewspaper, faShoppingBag, faPhone, faUser } from \"@fortawesome/free-solid-svg-icons\";\nimport socketIOClient from \"socket.io-client\";\nimport Axios from \"axios\";\nimport { withRouter } from \"react-router-dom\";\nconst ENDPOINT = \"http://localhost:4000\";\n\nfunction Dashboard(props) {\n  const menuItems = [{\n    id: \"1\",\n    name: \"Dashboard\",\n    icon: faHome\n  }, {\n    id: \"2\",\n    name: \"Live Chat\",\n    icon: faInbox\n  }, // {\n  //     id: \"3\",\n  //     name: \"Email\",\n  //     icon: faEnvelope\n  // },\n  {\n    id: \"3\",\n    name: \"Orders\",\n    icon: faFileInvoice\n  }, {\n    id: \"4\",\n    name: \"Products\",\n    icon: faPhone\n  }, {\n    id: \"5\",\n    name: \"News\",\n    icon: faNewspaper\n  }, {\n    id: \"6\",\n    name: \"Users\",\n    icon: faUser\n  }, {\n    id: \"7\",\n    name: \"Supports\",\n    icon: faEnvelope\n  }, {\n    id: \"8\",\n    name: \"Subscribers\",\n    icon: faEnvelope\n  }];\n  const [tabId, setTabId] = useState(\"1\");\n  const [openMenu, setOpenMenu] = useState(true);\n  const [openMenuMobile, setOpenMenuMobile] = useState(true);\n  const [productId, setProductId] = useState(\"\");\n  const socket = socketIOClient(ENDPOINT);\n  const [orderNotice, setOrderNotice] = useState(null);\n  const [userInfo, setUserInfo] = useState(null);\n  useEffect(() => {\n    if (localStorage.getItem(\"token\")) {\n      Axios.get(`http://localhost:4000/users/${localStorage.getItem(\"user-id\")}`, {\n        headers: {\n          authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      }).then(res => {\n        setUserInfo(res.data.user);\n        const userInfo = res.data.user;\n\n        if (userInfo.userRole === \"admin\") {\n          socket.emit(\"join\", {\n            sessionId: \"admin\",\n            isAdmin: true\n          });\n          socket.on(\"placeAnOrder-notice\", function (data) {\n            setOrderNotice(data);\n          });\n        } else {\n          localStorage.setItem(\"errLogin\", \"You do not have Administrator access!\");\n          props.history.push(\"/admin\");\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    } else {\n      props.history.push(\"/admin\");\n    }\n  }, []);\n\n  const setTabIdOnClick = id => {\n    setTabId(id);\n  };\n\n  const setOpenMenuOnClick = () => {\n    if (window.innerWidth <= 1110) {\n      setOpenMenu(true);\n      if (openMenuMobile) setOpenMenuMobile(false);else setOpenMenuMobile(true);\n    } else {\n      if (openMenu) setOpenMenu(false);else setOpenMenu(true);\n    }\n  };\n\n  const [openCreate, setOpenCreate] = useState(false);\n\n  const setOpenCreateFunc = () => {\n    document.body.style.overflow = \"hidden\";\n    setOpenCreate(true);\n  };\n\n  const setCloseCreateFunc = bool => {\n    document.body.style.overflow = \"unset\";\n    setOpenCreate(bool);\n  };\n\n  const [openEdit, setOpenEdit] = useState(false);\n\n  const setOpenEditFunc = event => {\n    document.body.style.overflow = \"hidden\";\n    setOpenEdit(true);\n    setProductId(event.target.id);\n  };\n\n  const setCloseEditFunc = bool => {\n    document.body.style.overflow = \"unset\";\n    setOpenEdit(bool);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Dashboard flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DashboardMenu, {\n    setTabIdOnClick: setTabIdOnClick,\n    setOpenMenuOnClick: setOpenMenuOnClick,\n    tabId: tabId,\n    menuItems: menuItems,\n    openMenu: openMenu,\n    openMenuMobile: openMenuMobile,\n    setCloseCreateFunc: setCloseCreateFunc,\n    setCloseEditFunc: setCloseEditFunc,\n    userInfo: userInfo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(DashboardBody, {\n    tabId: tabId,\n    menuItems: menuItems,\n    openMenu: openMenu,\n    openMenuMobile: openMenuMobile,\n    openCreate: openCreate,\n    openEdit: openEdit,\n    setOpenMenuOnClick: setOpenMenuOnClick,\n    setOpenCreateFunc: setOpenCreateFunc,\n    setCloseCreateFunc: setCloseCreateFunc,\n    setOpenEditFunc: setOpenEditFunc,\n    setCloseEditFunc: setCloseEditFunc,\n    productId: productId,\n    orderNotice: orderNotice,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default withRouter(Dashboard);","map":{"version":3,"sources":["C:/Users/Admin/Desktop/freelancerCoder/Ecommerce/frontend/src/components/admin/Dashboard/Dashboard.js"],"names":["React","useEffect","useState","DashboardBody","DashboardMenu","faEnvelope","faFileInvoice","faHome","faInbox","faNewspaper","faShoppingBag","faPhone","faUser","socketIOClient","Axios","withRouter","ENDPOINT","Dashboard","props","menuItems","id","name","icon","tabId","setTabId","openMenu","setOpenMenu","openMenuMobile","setOpenMenuMobile","productId","setProductId","socket","orderNotice","setOrderNotice","userInfo","setUserInfo","localStorage","getItem","get","headers","authorization","then","res","data","user","userRole","emit","sessionId","isAdmin","on","setItem","history","push","catch","err","console","log","setTabIdOnClick","setOpenMenuOnClick","window","innerWidth","openCreate","setOpenCreate","setOpenCreateFunc","document","body","style","overflow","setCloseCreateFunc","bool","openEdit","setOpenEdit","setOpenEditFunc","event","target","setCloseEditFunc"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"../../../App.css\";\r\nimport \"../../../Styles/Dashboard.css\";\r\nimport DashboardBody from \"./DashboardBody\";\r\nimport DashboardMenu from \"./DashboardMenu\";\r\nimport {\r\n  faEnvelope,\r\n  faFileInvoice,\r\n  faHome,\r\n  faInbox,\r\n  faNewspaper,\r\n  faShoppingBag,\r\n  faPhone,\r\n  faUser,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport socketIOClient from \"socket.io-client\";\r\nimport Axios from \"axios\";\r\nimport { withRouter } from \"react-router-dom\";\r\nconst ENDPOINT = \"http://localhost:4000\";\r\n\r\nfunction Dashboard(props) {\r\n  const menuItems = [\r\n    {\r\n      id: \"1\",\r\n      name: \"Dashboard\",\r\n      icon: faHome,\r\n    },\r\n    {\r\n      id: \"2\",\r\n      name: \"Live Chat\",\r\n      icon: faInbox,\r\n    },\r\n    // {\r\n    //     id: \"3\",\r\n    //     name: \"Email\",\r\n    //     icon: faEnvelope\r\n    // },\r\n    {\r\n      id: \"3\",\r\n      name: \"Orders\",\r\n      icon: faFileInvoice,\r\n    },\r\n    {\r\n      id: \"4\",\r\n      name: \"Products\",\r\n      icon: faPhone,\r\n    },\r\n    {\r\n      id: \"5\",\r\n      name: \"News\",\r\n      icon: faNewspaper,\r\n    },\r\n    {\r\n      id: \"6\",\r\n      name: \"Users\",\r\n      icon: faUser,\r\n    },\r\n    {\r\n      id: \"7\",\r\n      name: \"Supports\",\r\n      icon: faEnvelope,\r\n    },\r\n    {\r\n      id: \"8\",\r\n      name: \"Subscribers\",\r\n      icon: faEnvelope,\r\n    },\r\n  ];\r\n  const [tabId, setTabId] = useState(\"1\");\r\n  const [openMenu, setOpenMenu] = useState(true);\r\n  const [openMenuMobile, setOpenMenuMobile] = useState(true);\r\n  const [productId, setProductId] = useState(\"\");\r\n\r\n  const socket = socketIOClient(ENDPOINT);\r\n\r\n  const [orderNotice, setOrderNotice] = useState(null);\r\n  const [userInfo, setUserInfo] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"token\")) {\r\n      Axios.get(\r\n        `http://localhost:4000/users/${localStorage.getItem(\"user-id\")}`,\r\n        {\r\n          headers: { authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        }\r\n      )\r\n        .then((res) => {\r\n          setUserInfo(res.data.user);\r\n          const userInfo = res.data.user;\r\n          if (userInfo.userRole === \"admin\") {\r\n            socket.emit(\"join\", {\r\n              sessionId: \"admin\",\r\n              isAdmin: true,\r\n            });\r\n            socket.on(\"placeAnOrder-notice\", function (data) {\r\n              setOrderNotice(data);\r\n            });\r\n          } else {\r\n            localStorage.setItem(\r\n              \"errLogin\",\r\n              \"You do not have Administrator access!\"\r\n            );\r\n            props.history.push(\"/admin\");\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    } else {\r\n      props.history.push(\"/admin\");\r\n    }\r\n  }, []);\r\n\r\n  const setTabIdOnClick = (id) => {\r\n    setTabId(id);\r\n  };\r\n\r\n  const setOpenMenuOnClick = () => {\r\n    if (window.innerWidth <= 1110) {\r\n      setOpenMenu(true);\r\n      if (openMenuMobile) setOpenMenuMobile(false);\r\n      else setOpenMenuMobile(true);\r\n    } else {\r\n      if (openMenu) setOpenMenu(false);\r\n      else setOpenMenu(true);\r\n    }\r\n  };\r\n\r\n  const [openCreate, setOpenCreate] = useState(false);\r\n\r\n  const setOpenCreateFunc = () => {\r\n    document.body.style.overflow = \"hidden\";\r\n    setOpenCreate(true);\r\n  };\r\n\r\n  const setCloseCreateFunc = (bool) => {\r\n    document.body.style.overflow = \"unset\";\r\n    setOpenCreate(bool);\r\n  };\r\n\r\n  const [openEdit, setOpenEdit] = useState(false);\r\n\r\n  const setOpenEditFunc = (event) => {\r\n    document.body.style.overflow = \"hidden\";\r\n    setOpenEdit(true);\r\n    setProductId(event.target.id);\r\n  };\r\n\r\n  const setCloseEditFunc = (bool) => {\r\n    document.body.style.overflow = \"unset\";\r\n    setOpenEdit(bool);\r\n  };\r\n\r\n  return (\r\n    <div className=\"Dashboard flex\">\r\n      <DashboardMenu\r\n        setTabIdOnClick={setTabIdOnClick}\r\n        setOpenMenuOnClick={setOpenMenuOnClick}\r\n        tabId={tabId}\r\n        menuItems={menuItems}\r\n        openMenu={openMenu}\r\n        openMenuMobile={openMenuMobile}\r\n        setCloseCreateFunc={setCloseCreateFunc}\r\n        setCloseEditFunc={setCloseEditFunc}\r\n        userInfo={userInfo}\r\n      />\r\n      <DashboardBody\r\n        tabId={tabId}\r\n        menuItems={menuItems}\r\n        openMenu={openMenu}\r\n        openMenuMobile={openMenuMobile}\r\n        openCreate={openCreate}\r\n        openEdit={openEdit}\r\n        setOpenMenuOnClick={setOpenMenuOnClick}\r\n        setOpenCreateFunc={setOpenCreateFunc}\r\n        setCloseCreateFunc={setCloseCreateFunc}\r\n        setOpenEditFunc={setOpenEditFunc}\r\n        setCloseEditFunc={setCloseEditFunc}\r\n        productId={productId}\r\n        orderNotice={orderNotice}\r\n      />\r\n    </div>\r\n  );\r\n}\r\nexport default withRouter(Dashboard);\r\n"]},"metadata":{},"sourceType":"module"}